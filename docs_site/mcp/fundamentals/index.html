
<!DOCTYPE html>

<html class="no-js" lang="en">
<head>
<meta charset="utf-8"/>
<meta content="width=device-width,initial-scale=1" name="viewport"/>
<meta content="A comprehensive learning module for understanding, building, securing, and measuring Large Language Model agents and Multi-Agent Collaboration Platforms" name="description"/>
<meta content="Learning Path Contributors" name="author"/>
<link href="https://example.com/mcp/fundamentals/" rel="canonical"/>
<link href="../../performance/metrics/" rel="prev"/>
<link href="../../mcp-llm-connectivity/" rel="next"/>
<link href="../../assets/images/favicon.png" rel="icon"/>
<meta content="mkdocs-1.6.1, mkdocs-material-9.6.17" name="generator"/>
<title>MCP Fundamentals - LLM and Multi-Agent Collaboration Platforms - Learning Path</title>
<link href="../../assets/stylesheets/main.7e37652d.min.css" rel="stylesheet"/>
<link href="../../assets/stylesheets/palette.06af60db.min.css" rel="stylesheet"/>
<link crossorigin="" href="https://fonts.gstatic.com" rel="preconnect"/>
<link href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&amp;display=fallback" rel="stylesheet"/>
<style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
<link href="../../stylesheets/extra.css" rel="stylesheet"/>
<script>__md_scope=new URL("../..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
</head>
<body data-md-color-accent="indigo" data-md-color-primary="indigo" data-md-color-scheme="default" dir="ltr">
<input autocomplete="off" class="md-toggle" data-md-toggle="drawer" id="__drawer" type="checkbox"/>
<input autocomplete="off" class="md-toggle" data-md-toggle="search" id="__search" type="checkbox"/>
<label class="md-overlay" for="__drawer"></label>
<div data-md-component="skip">
<a class="md-skip" href="#multi-agent-collaboration-platform-fundamentals">
          Skip to content
        </a>
</div>
<div data-md-component="announce">
</div>
<header class="md-header" data-md-component="header">
<nav aria-label="Header" class="md-header__inner md-grid">
<a aria-label="LLM and Multi-Agent Collaboration Platforms - Learning Path" class="md-header__button md-logo" data-md-component="logo" href="../.." title="LLM and Multi-Agent Collaboration Platforms - Learning Path">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"></path></svg>
</a>
<label class="md-header__button md-icon" for="__drawer">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"></path></svg>
</label>
<div class="md-header__title" data-md-component="header-title">
<div class="md-header__ellipsis">
<div class="md-header__topic">
<span class="md-ellipsis">
            LLM and Multi-Agent Collaboration Platforms - Learning Path
          </span>
</div>
<div class="md-header__topic" data-md-component="header-topic">
<span class="md-ellipsis">
            
              MCP Fundamentals
            
          </span>
</div>
</div>
</div>
<form class="md-header__option" data-md-component="palette">
<input aria-label="Switch to dark mode" class="md-option" data-md-color-accent="indigo" data-md-color-media="" data-md-color-primary="indigo" data-md-color-scheme="default" id="__palette_0" name="__palette" type="radio"/>
<label class="md-header__button md-icon" for="__palette_1" hidden="" title="Switch to dark mode">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M12 8a4 4 0 0 0-4 4 4 4 0 0 0 4 4 4 4 0 0 0 4-4 4 4 0 0 0-4-4m0 10a6 6 0 0 1-6-6 6 6 0 0 1 6-6 6 6 0 0 1 6 6 6 6 0 0 1-6 6m8-9.31V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12z"></path></svg>
</label>
<input aria-label="Switch to light mode" class="md-option" data-md-color-accent="indigo" data-md-color-media="" data-md-color-primary="indigo" data-md-color-scheme="slate" id="__palette_1" name="__palette" type="radio"/>
<label class="md-header__button md-icon" for="__palette_0" hidden="" title="Switch to light mode">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M12 18c-.89 0-1.74-.2-2.5-.55C11.56 16.5 13 14.42 13 12s-1.44-4.5-3.5-5.45C10.26 6.2 11.11 6 12 6a6 6 0 0 1 6 6 6 6 0 0 1-6 6m8-9.31V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12z"></path></svg>
</label>
</form>
<script>var palette=__md_get("__palette");if(palette&&palette.color){if("(prefers-color-scheme)"===palette.color.media){var media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']");palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent")}for(var[key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script>
<label class="md-header__button md-icon" for="__search">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"></path></svg>
</label>
<div class="md-search" data-md-component="search" role="dialog">
<label class="md-search__overlay" for="__search"></label>
<div class="md-search__inner" role="search">
<form class="md-search__form" name="search">
<input aria-label="Search" autocapitalize="off" autocomplete="off" autocorrect="off" class="md-search__input" data-md-component="search-query" name="query" placeholder="Search" required="" spellcheck="false" type="text"/>
<label class="md-search__icon md-icon" for="__search">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"></path></svg>
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"></path></svg>
</label>
<nav aria-label="Search" class="md-search__options">
<button aria-label="Clear" class="md-search__icon md-icon" tabindex="-1" title="Clear" type="reset">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"></path></svg>
</button>
</nav>
<div class="md-search__suggest" data-md-component="search-suggest"></div>
</form>
<div class="md-search__output">
<div class="md-search__scrollwrap" data-md-scrollfix="" tabindex="0">
<div class="md-search-result" data-md-component="search-result">
<div class="md-search-result__meta">
            Initializing search
          </div>
<ol class="md-search-result__list" role="presentation"></ol>
</div>
</div>
</div>
</div>
</div>
<div class="md-header__source">
<a class="md-source" data-md-component="source" href="https://github.com/example/llm-mcp-learning-path" title="Go to repository">
<div class="md-source__icon md-icon">
<svg viewbox="0 0 448 512" xmlns="http://www.w3.org/2000/svg"><!--! Font Awesome Free 7.0.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M439.6 236.1 244 40.5c-5.4-5.5-12.8-8.5-20.4-8.5s-15 3-20.4 8.4L162.5 81l51.5 51.5c27.1-9.1 52.7 16.8 43.4 43.7l49.7 49.7c34.2-11.8 61.2 31 35.5 56.7-26.5 26.5-70.2-2.9-56-37.3L240.3 199v121.9c25.3 12.5 22.3 41.8 9.1 55-6.4 6.4-15.2 10.1-24.3 10.1s-17.8-3.6-24.3-10.1c-17.6-17.6-11.1-46.9 11.2-56v-123c-20.8-8.5-24.6-30.7-18.6-45L142.6 101 8.5 235.1C3 240.6 0 247.9 0 255.5s3 15 8.5 20.4l195.6 195.7c5.4 5.4 12.7 8.4 20.4 8.4s15-3 20.4-8.4l194.7-194.7c5.4-5.4 8.4-12.8 8.4-20.4s-3-15-8.4-20.4" fill="currentColor"></path></svg>
</div>
<div class="md-source__repository">
    LLM-MCP-Learning-Path
  </div>
</a>
</div>
</nav>
</header>
<div class="md-container" data-md-component="container">
<nav aria-label="Tabs" class="md-tabs" data-md-component="tabs">
<div class="md-grid">
<ul class="md-tabs__list">
<li class="md-tabs__item">
<a class="md-tabs__link" href="../..">
        
  
  
    
  
  Home

      </a>
</li>
<li class="md-tabs__item">
<a class="md-tabs__link" href="../../introduction/overview/">
          
  
  
  Introduction

        </a>
</li>
<li class="md-tabs__item">
<a class="md-tabs__link" href="../../foundations/ai-ml-fundamentals/">
          
  
  
  Foundational Knowledge

        </a>
</li>
<li class="md-tabs__item">
<a class="md-tabs__link" href="../../llms/architecture/">
          
  
  
  Understanding LLMs

        </a>
</li>
<li class="md-tabs__item">
<a class="md-tabs__link" href="../../agents/architecture/">
          
  
  
  Building LLM Agents

        </a>
</li>
<li class="md-tabs__item">
<a class="md-tabs__link" href="../../security/fundamentals/">
          
  
  
  Security &amp; Safety

        </a>
</li>
<li class="md-tabs__item">
<a class="md-tabs__link" href="../../performance/metrics/">
          
  
  
  Performance Measurement

        </a>
</li>
<li class="md-tabs__item md-tabs__item--active">
<a class="md-tabs__link" href="./">
          
  
  
  Multi-Agent Platforms

        </a>
</li>
<li class="md-tabs__item">
<a class="md-tabs__link" href="../../mcp-llm-connectivity/">
          
  
  
  MCP-LLM Connectivity Patterns

        </a>
</li>
<li class="md-tabs__item">
<a class="md-tabs__link" href="../../resources/learning/">
          
  
  
  Resources

        </a>
</li>
<li class="md-tabs__item">
<a class="md-tabs__link" href="../../capstone/overview/">
          
  
  
  Capstone Project

        </a>
</li>
</ul>
</div>
</nav>
<main class="md-main" data-md-component="main">
<div class="md-main__inner md-grid">
<div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation">
<div class="md-sidebar__scrollwrap">
<div class="md-sidebar__inner">
<nav aria-label="Navigation" class="md-nav md-nav--primary md-nav--lifted" data-md-level="0">
<label class="md-nav__title" for="__drawer">
<a aria-label="LLM and Multi-Agent Collaboration Platforms - Learning Path" class="md-nav__button md-logo" data-md-component="logo" href="../.." title="LLM and Multi-Agent Collaboration Platforms - Learning Path">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"></path></svg>
</a>
    LLM and Multi-Agent Collaboration Platforms - Learning Path
  </label>
<div class="md-nav__source">
<a class="md-source" data-md-component="source" href="https://github.com/example/llm-mcp-learning-path" title="Go to repository">
<div class="md-source__icon md-icon">
<svg viewbox="0 0 448 512" xmlns="http://www.w3.org/2000/svg"><!--! Font Awesome Free 7.0.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M439.6 236.1 244 40.5c-5.4-5.5-12.8-8.5-20.4-8.5s-15 3-20.4 8.4L162.5 81l51.5 51.5c27.1-9.1 52.7 16.8 43.4 43.7l49.7 49.7c34.2-11.8 61.2 31 35.5 56.7-26.5 26.5-70.2-2.9-56-37.3L240.3 199v121.9c25.3 12.5 22.3 41.8 9.1 55-6.4 6.4-15.2 10.1-24.3 10.1s-17.8-3.6-24.3-10.1c-17.6-17.6-11.1-46.9 11.2-56v-123c-20.8-8.5-24.6-30.7-18.6-45L142.6 101 8.5 235.1C3 240.6 0 247.9 0 255.5s3 15 8.5 20.4l195.6 195.7c5.4 5.4 12.7 8.4 20.4 8.4s15-3 20.4-8.4l194.7-194.7c5.4-5.4 8.4-12.8 8.4-20.4s-3-15-8.4-20.4" fill="currentColor"></path></svg>
</div>
<div class="md-source__repository">
    LLM-MCP-Learning-Path
  </div>
</a>
</div>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../..">
<span class="md-ellipsis">
    Home
    
  </span>
</a>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle md-toggle--indeterminate" id="__nav_2" type="checkbox"/>
<label class="md-nav__link" for="__nav_2" id="__nav_2_label" tabindex="0">
<span class="md-ellipsis">
    Introduction
    
  </span>
<span class="md-nav__icon md-icon"></span>
</label>
<nav aria-expanded="false" aria-labelledby="__nav_2_label" class="md-nav" data-md-level="1">
<label class="md-nav__title" for="__nav_2">
<span class="md-nav__icon md-icon"></span>
            Introduction
          </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../../introduction/overview/">
<span class="md-ellipsis">
    Overview
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../introduction/applications/">
<span class="md-ellipsis">
    Applications
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../introduction/prerequisites/">
<span class="md-ellipsis">
    Prerequisites
    
  </span>
</a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle md-toggle--indeterminate" id="__nav_3" type="checkbox"/>
<label class="md-nav__link" for="__nav_3" id="__nav_3_label" tabindex="0">
<span class="md-ellipsis">
    Foundational Knowledge
    
  </span>
<span class="md-nav__icon md-icon"></span>
</label>
<nav aria-expanded="false" aria-labelledby="__nav_3_label" class="md-nav" data-md-level="1">
<label class="md-nav__title" for="__nav_3">
<span class="md-nav__icon md-icon"></span>
            Foundational Knowledge
          </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../../foundations/ai-ml-fundamentals/">
<span class="md-ellipsis">
    AI/ML Fundamentals
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../foundations/mathematics/">
<span class="md-ellipsis">
    Mathematics for AI
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../foundations/programming/">
<span class="md-ellipsis">
    Programming Essentials
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../foundations/deep-learning/">
<span class="md-ellipsis">
    Deep Learning Basics
    
  </span>
</a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle md-toggle--indeterminate" id="__nav_4" type="checkbox"/>
<label class="md-nav__link" for="__nav_4" id="__nav_4_label" tabindex="0">
<span class="md-ellipsis">
    Understanding LLMs
    
  </span>
<span class="md-nav__icon md-icon"></span>
</label>
<nav aria-expanded="false" aria-labelledby="__nav_4_label" class="md-nav" data-md-level="1">
<label class="md-nav__title" for="__nav_4">
<span class="md-nav__icon md-icon"></span>
            Understanding LLMs
          </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../../llms/architecture/">
<span class="md-ellipsis">
    LLM Architecture
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../llms/training/">
<span class="md-ellipsis">
    Training Process
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../llms/fine-tuning/">
<span class="md-ellipsis">
    Fine-tuning &amp; Adaptation
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../llms/prompt-engineering/">
<span class="md-ellipsis">
    Prompt Engineering
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../llms/evaluation.md">
<span class="md-ellipsis">
    Model Evaluation
    
  </span>
</a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle md-toggle--indeterminate" id="__nav_5" type="checkbox"/>
<label class="md-nav__link" for="__nav_5" id="__nav_5_label" tabindex="0">
<span class="md-ellipsis">
    Building LLM Agents
    
  </span>
<span class="md-nav__icon md-icon"></span>
</label>
<nav aria-expanded="false" aria-labelledby="__nav_5_label" class="md-nav" data-md-level="1">
<label class="md-nav__title" for="__nav_5">
<span class="md-nav__icon md-icon"></span>
            Building LLM Agents
          </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../../agents/architecture/">
<span class="md-ellipsis">
    Agent Architecture
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../agents/planning.md">
<span class="md-ellipsis">
    Planning &amp; Reasoning
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../agents/tools.md">
<span class="md-ellipsis">
    Tool Integration
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../agents/memory.md">
<span class="md-ellipsis">
    Memory Systems
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../agents/deployment.md">
<span class="md-ellipsis">
    Deployment Strategies
    
  </span>
</a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle md-toggle--indeterminate" id="__nav_6" type="checkbox"/>
<label class="md-nav__link" for="__nav_6" id="__nav_6_label" tabindex="0">
<span class="md-ellipsis">
    Security &amp; Safety
    
  </span>
<span class="md-nav__icon md-icon"></span>
</label>
<nav aria-expanded="false" aria-labelledby="__nav_6_label" class="md-nav" data-md-level="1">
<label class="md-nav__title" for="__nav_6">
<span class="md-nav__icon md-icon"></span>
            Security &amp; Safety
          </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../../security/fundamentals/">
<span class="md-ellipsis">
    Security Fundamentals
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../security/vulnerabilities.md">
<span class="md-ellipsis">
    Common Vulnerabilities
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../security/alignment.md">
<span class="md-ellipsis">
    Safety Alignment
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../security/monitoring.md">
<span class="md-ellipsis">
    Monitoring &amp; Detection
    
  </span>
</a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle md-toggle--indeterminate" id="__nav_7" type="checkbox"/>
<label class="md-nav__link" for="__nav_7" id="__nav_7_label" tabindex="0">
<span class="md-ellipsis">
    Performance Measurement
    
  </span>
<span class="md-nav__icon md-icon"></span>
</label>
<nav aria-expanded="false" aria-labelledby="__nav_7_label" class="md-nav" data-md-level="1">
<label class="md-nav__title" for="__nav_7">
<span class="md-nav__icon md-icon"></span>
            Performance Measurement
          </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../../performance/metrics/">
<span class="md-ellipsis">
    Evaluation Metrics
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../performance/benchmarking.md">
<span class="md-ellipsis">
    Benchmarking
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../performance/monitoring.md">
<span class="md-ellipsis">
    Monitoring Systems
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../performance/optimization.md">
<span class="md-ellipsis">
    Optimization Techniques
    
  </span>
</a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item md-nav__item--active md-nav__item--section md-nav__item--nested">
<input checked="" class="md-nav__toggle md-toggle" id="__nav_8" type="checkbox"/>
<label class="md-nav__link" for="__nav_8" id="__nav_8_label" tabindex="">
<span class="md-ellipsis">
    Multi-Agent Platforms
    
  </span>
<span class="md-nav__icon md-icon"></span>
</label>
<nav aria-expanded="true" aria-labelledby="__nav_8_label" class="md-nav" data-md-level="1">
<label class="md-nav__title" for="__nav_8">
<span class="md-nav__icon md-icon"></span>
            Multi-Agent Platforms
          </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item md-nav__item--active">
<input class="md-nav__toggle md-toggle" id="__toc" type="checkbox"/>
<label class="md-nav__link md-nav__link--active" for="__toc">
<span class="md-ellipsis">
    MCP Fundamentals
    
  </span>
<span class="md-nav__icon md-icon"></span>
</label>
<a class="md-nav__link md-nav__link--active" href="./">
<span class="md-ellipsis">
    MCP Fundamentals
    
  </span>
</a>
<nav aria-label="Table of contents" class="md-nav md-nav--secondary">
<label class="md-nav__title" for="__toc">
<span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
<ul class="md-nav__list" data-md-component="toc" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="#core-mcp-concepts">
<span class="md-ellipsis">
      ü§ù Core MCP Concepts
    </span>
</a>
<nav aria-label="ü§ù Core MCP Concepts" class="md-nav">
<ul class="md-nav__list">
<li class="md-nav__item">
<a class="md-nav__link" href="#what-is-a-multi-agent-collaboration-platform">
<span class="md-ellipsis">
      What is a Multi-Agent Collaboration Platform?
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#agent-interaction-patterns">
<span class="md-ellipsis">
      Agent Interaction Patterns
    </span>
</a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#mcp-architecture-patterns">
<span class="md-ellipsis">
      üèóÔ∏è MCP Architecture Patterns
    </span>
</a>
<nav aria-label="üèóÔ∏è MCP Architecture Patterns" class="md-nav">
<ul class="md-nav__list">
<li class="md-nav__item">
<a class="md-nav__link" href="#1-centralized-coordination">
<span class="md-ellipsis">
      1. Centralized Coordination
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#2-decentralized-p2p-coordination">
<span class="md-ellipsis">
      2. Decentralized P2P Coordination
    </span>
</a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#communication-protocols">
<span class="md-ellipsis">
      üîÑ Communication Protocols
    </span>
</a>
<nav aria-label="üîÑ Communication Protocols" class="md-nav">
<ul class="md-nav__list">
<li class="md-nav__item">
<a class="md-nav__link" href="#message-passing-framework">
<span class="md-ellipsis">
      Message Passing Framework
    </span>
</a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#consensus-and-decision-making">
<span class="md-ellipsis">
      üß† Consensus and Decision Making
    </span>
</a>
<nav aria-label="üß† Consensus and Decision Making" class="md-nav">
<ul class="md-nav__list">
<li class="md-nav__item">
<a class="md-nav__link" href="#voting-based-consensus">
<span class="md-ellipsis">
      Voting-Based Consensus
    </span>
</a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#popular-mcp-frameworks">
<span class="md-ellipsis">
      üîß Popular MCP Frameworks
    </span>
</a>
<nav aria-label="üîß Popular MCP Frameworks" class="md-nav">
<ul class="md-nav__list">
<li class="md-nav__item">
<a class="md-nav__link" href="#autogen-framework-example">
<span class="md-ellipsis">
      AutoGen Framework Example
    </span>
</a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#mcp-implementation-checklist">
<span class="md-ellipsis">
      ‚úÖ MCP Implementation Checklist
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#next-steps">
<span class="md-ellipsis">
      üöÄ Next Steps
    </span>
</a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../communication.md">
<span class="md-ellipsis">
    Agent Communication
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../coordination.md">
<span class="md-ellipsis">
    Coordination Strategies
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../frameworks.md">
<span class="md-ellipsis">
    Frameworks &amp; Tools
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../scaling.md">
<span class="md-ellipsis">
    Scaling Considerations
    
  </span>
</a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle md-toggle--indeterminate" id="__nav_9" type="checkbox"/>
<label class="md-nav__link" for="__nav_9" id="__nav_9_label" tabindex="0">
<span class="md-ellipsis">
    MCP-LLM Connectivity Patterns
    
  </span>
<span class="md-nav__icon md-icon"></span>
</label>
<nav aria-expanded="false" aria-labelledby="__nav_9_label" class="md-nav" data-md-level="1">
<label class="md-nav__title" for="__nav_9">
<span class="md-nav__icon md-icon"></span>
            MCP-LLM Connectivity Patterns
          </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../../mcp-llm-connectivity/">
<span class="md-ellipsis">
    Overview
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../mcp-llm-connectivity/basic-flow/">
<span class="md-ellipsis">
    Basic Communication Flow
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../mcp-llm-connectivity/tool-integration/">
<span class="md-ellipsis">
    Tool Integration
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../mcp-llm-connectivity/multi-agent/">
<span class="md-ellipsis">
    Multi-Agent Systems
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../mcp-llm-connectivity/enterprise-architecture/">
<span class="md-ellipsis">
    Enterprise Architecture
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../mcp-llm-connectivity/real-time-streaming/">
<span class="md-ellipsis">
    Real-Time Streaming
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../mcp-llm-connectivity/security-patterns/">
<span class="md-ellipsis">
    Security Patterns
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../mcp-llm-connectivity/scaling-patterns/">
<span class="md-ellipsis">
    Scaling Patterns
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../mcp-llm-connectivity/data-flow/">
<span class="md-ellipsis">
    Data Flow Patterns
    
  </span>
</a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle md-toggle--indeterminate" id="__nav_10" type="checkbox"/>
<label class="md-nav__link" for="__nav_10" id="__nav_10_label" tabindex="0">
<span class="md-ellipsis">
    Resources
    
  </span>
<span class="md-nav__icon md-icon"></span>
</label>
<nav aria-expanded="false" aria-labelledby="__nav_10_label" class="md-nav" data-md-level="1">
<label class="md-nav__title" for="__nav_10">
<span class="md-nav__icon md-icon"></span>
            Resources
          </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../../resources/learning/">
<span class="md-ellipsis">
    Learning Resources
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../resources/tools.md">
<span class="md-ellipsis">
    Tools &amp; Libraries
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../resources/communities.md">
<span class="md-ellipsis">
    Communities
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../resources/updates.md">
<span class="md-ellipsis">
    Staying Updated
    
  </span>
</a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle md-toggle--indeterminate" id="__nav_11" type="checkbox"/>
<label class="md-nav__link" for="__nav_11" id="__nav_11_label" tabindex="0">
<span class="md-ellipsis">
    Capstone Project
    
  </span>
<span class="md-nav__icon md-icon"></span>
</label>
<nav aria-expanded="false" aria-labelledby="__nav_11_label" class="md-nav" data-md-level="1">
<label class="md-nav__title" for="__nav_11">
<span class="md-nav__icon md-icon"></span>
            Capstone Project
          </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../../capstone/overview/">
<span class="md-ellipsis">
    Project Overview
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../capstone/planning.md">
<span class="md-ellipsis">
    Planning Phase
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../capstone/implementation.md">
<span class="md-ellipsis">
    Implementation
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../capstone/evaluation.md">
<span class="md-ellipsis">
    Evaluation
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../capstone/documentation.md">
<span class="md-ellipsis">
    Documentation
    
  </span>
</a>
</li>
</ul>
</nav>
</li>
</ul>
</nav>
</div>
</div>
</div>
<div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc">
<div class="md-sidebar__scrollwrap">
<div class="md-sidebar__inner">
<nav aria-label="Table of contents" class="md-nav md-nav--secondary">
<label class="md-nav__title" for="__toc">
<span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
<ul class="md-nav__list" data-md-component="toc" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="#core-mcp-concepts">
<span class="md-ellipsis">
      ü§ù Core MCP Concepts
    </span>
</a>
<nav aria-label="ü§ù Core MCP Concepts" class="md-nav">
<ul class="md-nav__list">
<li class="md-nav__item">
<a class="md-nav__link" href="#what-is-a-multi-agent-collaboration-platform">
<span class="md-ellipsis">
      What is a Multi-Agent Collaboration Platform?
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#agent-interaction-patterns">
<span class="md-ellipsis">
      Agent Interaction Patterns
    </span>
</a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#mcp-architecture-patterns">
<span class="md-ellipsis">
      üèóÔ∏è MCP Architecture Patterns
    </span>
</a>
<nav aria-label="üèóÔ∏è MCP Architecture Patterns" class="md-nav">
<ul class="md-nav__list">
<li class="md-nav__item">
<a class="md-nav__link" href="#1-centralized-coordination">
<span class="md-ellipsis">
      1. Centralized Coordination
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#2-decentralized-p2p-coordination">
<span class="md-ellipsis">
      2. Decentralized P2P Coordination
    </span>
</a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#communication-protocols">
<span class="md-ellipsis">
      üîÑ Communication Protocols
    </span>
</a>
<nav aria-label="üîÑ Communication Protocols" class="md-nav">
<ul class="md-nav__list">
<li class="md-nav__item">
<a class="md-nav__link" href="#message-passing-framework">
<span class="md-ellipsis">
      Message Passing Framework
    </span>
</a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#consensus-and-decision-making">
<span class="md-ellipsis">
      üß† Consensus and Decision Making
    </span>
</a>
<nav aria-label="üß† Consensus and Decision Making" class="md-nav">
<ul class="md-nav__list">
<li class="md-nav__item">
<a class="md-nav__link" href="#voting-based-consensus">
<span class="md-ellipsis">
      Voting-Based Consensus
    </span>
</a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#popular-mcp-frameworks">
<span class="md-ellipsis">
      üîß Popular MCP Frameworks
    </span>
</a>
<nav aria-label="üîß Popular MCP Frameworks" class="md-nav">
<ul class="md-nav__list">
<li class="md-nav__item">
<a class="md-nav__link" href="#autogen-framework-example">
<span class="md-ellipsis">
      AutoGen Framework Example
    </span>
</a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#mcp-implementation-checklist">
<span class="md-ellipsis">
      ‚úÖ MCP Implementation Checklist
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#next-steps">
<span class="md-ellipsis">
      üöÄ Next Steps
    </span>
</a>
</li>
</ul>
</nav>
</div>
</div>
</div>
<div class="md-content" data-md-component="content">
<article class="md-content__inner md-typeset">
<h1 id="multi-agent-collaboration-platform-fundamentals">Multi-Agent Collaboration Platform Fundamentals</h1>
<p>Multi-Agent Collaboration Platforms (MCP) enable multiple AI agents to work together on complex tasks that exceed the capabilities of individual agents. This section covers the core concepts, architectures, and implementation strategies.</p>
<h2 id="core-mcp-concepts">ü§ù Core MCP Concepts</h2>
<h3 id="what-is-a-multi-agent-collaboration-platform">What is a Multi-Agent Collaboration Platform?</h3>
<p><strong>Definition</strong>: A system where multiple autonomous AI agents coordinate, communicate, and collaborate to solve complex problems that require diverse skills, knowledge, or perspectives.</p>
<p><strong>Key Characteristics</strong>:
- <strong>Distributed Intelligence</strong>: Processing distributed across multiple agents
- <strong>Autonomous Agents</strong>: Each agent operates independently with its own goals
- <strong>Collaborative Problem-Solving</strong>: Agents work together toward common objectives
- <strong>Dynamic Coordination</strong>: Flexible role assignment and task distribution</p>
<h3 id="agent-interaction-patterns">Agent Interaction Patterns</h3>
<pre class="mermaid"><code>graph TD
    A[Hierarchical] --&gt; B[Manager Agent]
    B --&gt; C[Worker Agent 1]
    B --&gt; D[Worker Agent 2]
    B --&gt; E[Worker Agent 3]

    F[Peer-to-Peer] --&gt; G[Agent A]
    G &lt;--&gt; H[Agent B]
    H &lt;--&gt; I[Agent C]
    I &lt;--&gt; G

    J[Marketplace] --&gt; K[Task Broker]
    K --&gt; L[Bidding Agents]
    L --&gt; M[Task Assignment]</code></pre>
<h2 id="mcp-architecture-patterns">üèóÔ∏è MCP Architecture Patterns</h2>
<h3 id="1-centralized-coordination">1. Centralized Coordination</h3>
<div class="highlight"><pre><span></span><code><a href="#__codelineno-0-1" id="__codelineno-0-1" name="__codelineno-0-1"></a><span class="kn">import</span><span class="w"> </span><span class="nn">asyncio</span>
<a href="#__codelineno-0-2" id="__codelineno-0-2" name="__codelineno-0-2"></a><span class="kn">from</span><span class="w"> </span><span class="nn">typing</span><span class="w"> </span><span class="kn">import</span> <span class="n">Dict</span><span class="p">,</span> <span class="n">List</span><span class="p">,</span> <span class="n">Any</span><span class="p">,</span> <span class="n">Optional</span>
<a href="#__codelineno-0-3" id="__codelineno-0-3" name="__codelineno-0-3"></a><span class="kn">from</span><span class="w"> </span><span class="nn">enum</span><span class="w"> </span><span class="kn">import</span> <span class="n">Enum</span>
<a href="#__codelineno-0-4" id="__codelineno-0-4" name="__codelineno-0-4"></a><span class="kn">import</span><span class="w"> </span><span class="nn">json</span>
<a href="#__codelineno-0-5" id="__codelineno-0-5" name="__codelineno-0-5"></a>
<a href="#__codelineno-0-6" id="__codelineno-0-6" name="__codelineno-0-6"></a><span class="k">class</span><span class="w"> </span><span class="nc">AgentStatus</span><span class="p">(</span><span class="n">Enum</span><span class="p">):</span>
<a href="#__codelineno-0-7" id="__codelineno-0-7" name="__codelineno-0-7"></a>    <span class="n">IDLE</span> <span class="o">=</span> <span class="s2">"idle"</span>
<a href="#__codelineno-0-8" id="__codelineno-0-8" name="__codelineno-0-8"></a>    <span class="n">BUSY</span> <span class="o">=</span> <span class="s2">"busy"</span> 
<a href="#__codelineno-0-9" id="__codelineno-0-9" name="__codelineno-0-9"></a>    <span class="n">OFFLINE</span> <span class="o">=</span> <span class="s2">"offline"</span>
<a href="#__codelineno-0-10" id="__codelineno-0-10" name="__codelineno-0-10"></a>
<a href="#__codelineno-0-11" id="__codelineno-0-11" name="__codelineno-0-11"></a><span class="k">class</span><span class="w"> </span><span class="nc">CentralCoordinator</span><span class="p">:</span>
<a href="#__codelineno-0-12" id="__codelineno-0-12" name="__codelineno-0-12"></a><span class="w">    </span><span class="sd">"""Centralized agent coordination system"""</span>
<a href="#__codelineno-0-13" id="__codelineno-0-13" name="__codelineno-0-13"></a>
<a href="#__codelineno-0-14" id="__codelineno-0-14" name="__codelineno-0-14"></a>    <span class="k">def</span><span class="w"> </span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<a href="#__codelineno-0-15" id="__codelineno-0-15" name="__codelineno-0-15"></a>        <span class="bp">self</span><span class="o">.</span><span class="n">agents</span> <span class="o">=</span> <span class="p">{}</span>
<a href="#__codelineno-0-16" id="__codelineno-0-16" name="__codelineno-0-16"></a>        <span class="bp">self</span><span class="o">.</span><span class="n">task_queue</span> <span class="o">=</span> <span class="p">[]</span>
<a href="#__codelineno-0-17" id="__codelineno-0-17" name="__codelineno-0-17"></a>        <span class="bp">self</span><span class="o">.</span><span class="n">active_tasks</span> <span class="o">=</span> <span class="p">{}</span>
<a href="#__codelineno-0-18" id="__codelineno-0-18" name="__codelineno-0-18"></a>        <span class="bp">self</span><span class="o">.</span><span class="n">agent_capabilities</span> <span class="o">=</span> <span class="p">{}</span>
<a href="#__codelineno-0-19" id="__codelineno-0-19" name="__codelineno-0-19"></a>
<a href="#__codelineno-0-20" id="__codelineno-0-20" name="__codelineno-0-20"></a>    <span class="k">def</span><span class="w"> </span><span class="nf">register_agent</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">agent_id</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">capabilities</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">]):</span>
<a href="#__codelineno-0-21" id="__codelineno-0-21" name="__codelineno-0-21"></a><span class="w">        </span><span class="sd">"""Register new agent with capabilities"""</span>
<a href="#__codelineno-0-22" id="__codelineno-0-22" name="__codelineno-0-22"></a>        <span class="bp">self</span><span class="o">.</span><span class="n">agents</span><span class="p">[</span><span class="n">agent_id</span><span class="p">]</span> <span class="o">=</span> <span class="p">{</span>
<a href="#__codelineno-0-23" id="__codelineno-0-23" name="__codelineno-0-23"></a>            <span class="s1">'status'</span><span class="p">:</span> <span class="n">AgentStatus</span><span class="o">.</span><span class="n">IDLE</span><span class="p">,</span>
<a href="#__codelineno-0-24" id="__codelineno-0-24" name="__codelineno-0-24"></a>            <span class="s1">'current_task'</span><span class="p">:</span> <span class="kc">None</span><span class="p">,</span>
<a href="#__codelineno-0-25" id="__codelineno-0-25" name="__codelineno-0-25"></a>            <span class="s1">'last_heartbeat'</span><span class="p">:</span> <span class="n">asyncio</span><span class="o">.</span><span class="n">get_event_loop</span><span class="p">()</span><span class="o">.</span><span class="n">time</span><span class="p">(),</span>
<a href="#__codelineno-0-26" id="__codelineno-0-26" name="__codelineno-0-26"></a>            <span class="s1">'completed_tasks'</span><span class="p">:</span> <span class="mi">0</span>
<a href="#__codelineno-0-27" id="__codelineno-0-27" name="__codelineno-0-27"></a>        <span class="p">}</span>
<a href="#__codelineno-0-28" id="__codelineno-0-28" name="__codelineno-0-28"></a>        <span class="bp">self</span><span class="o">.</span><span class="n">agent_capabilities</span><span class="p">[</span><span class="n">agent_id</span><span class="p">]</span> <span class="o">=</span> <span class="n">capabilities</span>
<a href="#__codelineno-0-29" id="__codelineno-0-29" name="__codelineno-0-29"></a>        <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">"Agent </span><span class="si">{</span><span class="n">agent_id</span><span class="si">}</span><span class="s2"> registered with capabilities: </span><span class="si">{</span><span class="n">capabilities</span><span class="si">}</span><span class="s2">"</span><span class="p">)</span>
<a href="#__codelineno-0-30" id="__codelineno-0-30" name="__codelineno-0-30"></a>
<a href="#__codelineno-0-31" id="__codelineno-0-31" name="__codelineno-0-31"></a>    <span class="k">def</span><span class="w"> </span><span class="nf">submit_task</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">task</span><span class="p">:</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
<a href="#__codelineno-0-32" id="__codelineno-0-32" name="__codelineno-0-32"></a><span class="w">        </span><span class="sd">"""Submit task for execution"""</span>
<a href="#__codelineno-0-33" id="__codelineno-0-33" name="__codelineno-0-33"></a>        <span class="n">task_id</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">"task_</span><span class="si">{</span><span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">active_tasks</span><span class="p">)</span><span class="si">}</span><span class="s2">"</span>
<a href="#__codelineno-0-34" id="__codelineno-0-34" name="__codelineno-0-34"></a>        <span class="n">task</span><span class="p">[</span><span class="s1">'id'</span><span class="p">]</span> <span class="o">=</span> <span class="n">task_id</span>
<a href="#__codelineno-0-35" id="__codelineno-0-35" name="__codelineno-0-35"></a>        <span class="n">task</span><span class="p">[</span><span class="s1">'status'</span><span class="p">]</span> <span class="o">=</span> <span class="s1">'pending'</span>
<a href="#__codelineno-0-36" id="__codelineno-0-36" name="__codelineno-0-36"></a>        <span class="bp">self</span><span class="o">.</span><span class="n">task_queue</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">task</span><span class="p">)</span>
<a href="#__codelineno-0-37" id="__codelineno-0-37" name="__codelineno-0-37"></a>        <span class="k">return</span> <span class="n">task_id</span>
<a href="#__codelineno-0-38" id="__codelineno-0-38" name="__codelineno-0-38"></a>
<a href="#__codelineno-0-39" id="__codelineno-0-39" name="__codelineno-0-39"></a>    <span class="k">async</span> <span class="k">def</span><span class="w"> </span><span class="nf">assign_tasks</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<a href="#__codelineno-0-40" id="__codelineno-0-40" name="__codelineno-0-40"></a><span class="w">        </span><span class="sd">"""Assign pending tasks to available agents"""</span>
<a href="#__codelineno-0-41" id="__codelineno-0-41" name="__codelineno-0-41"></a>        <span class="k">while</span> <span class="bp">self</span><span class="o">.</span><span class="n">task_queue</span><span class="p">:</span>
<a href="#__codelineno-0-42" id="__codelineno-0-42" name="__codelineno-0-42"></a>            <span class="n">task</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">task_queue</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
<a href="#__codelineno-0-43" id="__codelineno-0-43" name="__codelineno-0-43"></a>            <span class="n">required_capabilities</span> <span class="o">=</span> <span class="n">task</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">'required_capabilities'</span><span class="p">,</span> <span class="p">[])</span>
<a href="#__codelineno-0-44" id="__codelineno-0-44" name="__codelineno-0-44"></a>
<a href="#__codelineno-0-45" id="__codelineno-0-45" name="__codelineno-0-45"></a>            <span class="c1"># Find suitable agent</span>
<a href="#__codelineno-0-46" id="__codelineno-0-46" name="__codelineno-0-46"></a>            <span class="n">suitable_agent</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">find_suitable_agent</span><span class="p">(</span><span class="n">required_capabilities</span><span class="p">)</span>
<a href="#__codelineno-0-47" id="__codelineno-0-47" name="__codelineno-0-47"></a>
<a href="#__codelineno-0-48" id="__codelineno-0-48" name="__codelineno-0-48"></a>            <span class="k">if</span> <span class="n">suitable_agent</span><span class="p">:</span>
<a href="#__codelineno-0-49" id="__codelineno-0-49" name="__codelineno-0-49"></a>                <span class="c1"># Assign task</span>
<a href="#__codelineno-0-50" id="__codelineno-0-50" name="__codelineno-0-50"></a>                <span class="bp">self</span><span class="o">.</span><span class="n">task_queue</span><span class="o">.</span><span class="n">pop</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
<a href="#__codelineno-0-51" id="__codelineno-0-51" name="__codelineno-0-51"></a>                <span class="bp">self</span><span class="o">.</span><span class="n">active_tasks</span><span class="p">[</span><span class="n">task</span><span class="p">[</span><span class="s1">'id'</span><span class="p">]]</span> <span class="o">=</span> <span class="n">task</span>
<a href="#__codelineno-0-52" id="__codelineno-0-52" name="__codelineno-0-52"></a>                <span class="bp">self</span><span class="o">.</span><span class="n">agents</span><span class="p">[</span><span class="n">suitable_agent</span><span class="p">][</span><span class="s1">'status'</span><span class="p">]</span> <span class="o">=</span> <span class="n">AgentStatus</span><span class="o">.</span><span class="n">BUSY</span>
<a href="#__codelineno-0-53" id="__codelineno-0-53" name="__codelineno-0-53"></a>                <span class="bp">self</span><span class="o">.</span><span class="n">agents</span><span class="p">[</span><span class="n">suitable_agent</span><span class="p">][</span><span class="s1">'current_task'</span><span class="p">]</span> <span class="o">=</span> <span class="n">task</span><span class="p">[</span><span class="s1">'id'</span><span class="p">]</span>
<a href="#__codelineno-0-54" id="__codelineno-0-54" name="__codelineno-0-54"></a>
<a href="#__codelineno-0-55" id="__codelineno-0-55" name="__codelineno-0-55"></a>                <span class="c1"># Simulate task execution</span>
<a href="#__codelineno-0-56" id="__codelineno-0-56" name="__codelineno-0-56"></a>                <span class="n">asyncio</span><span class="o">.</span><span class="n">create_task</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">execute_task</span><span class="p">(</span><span class="n">suitable_agent</span><span class="p">,</span> <span class="n">task</span><span class="p">))</span>
<a href="#__codelineno-0-57" id="__codelineno-0-57" name="__codelineno-0-57"></a>            <span class="k">else</span><span class="p">:</span>
<a href="#__codelineno-0-58" id="__codelineno-0-58" name="__codelineno-0-58"></a>                <span class="k">break</span>  <span class="c1"># No suitable agent available</span>
<a href="#__codelineno-0-59" id="__codelineno-0-59" name="__codelineno-0-59"></a>
<a href="#__codelineno-0-60" id="__codelineno-0-60" name="__codelineno-0-60"></a>    <span class="k">def</span><span class="w"> </span><span class="nf">find_suitable_agent</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">required_capabilities</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]:</span>
<a href="#__codelineno-0-61" id="__codelineno-0-61" name="__codelineno-0-61"></a><span class="w">        </span><span class="sd">"""Find agent with required capabilities"""</span>
<a href="#__codelineno-0-62" id="__codelineno-0-62" name="__codelineno-0-62"></a>        <span class="k">for</span> <span class="n">agent_id</span><span class="p">,</span> <span class="n">agent_info</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">agents</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
<a href="#__codelineno-0-63" id="__codelineno-0-63" name="__codelineno-0-63"></a>            <span class="k">if</span> <span class="n">agent_info</span><span class="p">[</span><span class="s1">'status'</span><span class="p">]</span> <span class="o">==</span> <span class="n">AgentStatus</span><span class="o">.</span><span class="n">IDLE</span><span class="p">:</span>
<a href="#__codelineno-0-64" id="__codelineno-0-64" name="__codelineno-0-64"></a>                <span class="n">agent_caps</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">agent_capabilities</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">agent_id</span><span class="p">,</span> <span class="p">[])</span>
<a href="#__codelineno-0-65" id="__codelineno-0-65" name="__codelineno-0-65"></a>                <span class="k">if</span> <span class="nb">all</span><span class="p">(</span><span class="n">cap</span> <span class="ow">in</span> <span class="n">agent_caps</span> <span class="k">for</span> <span class="n">cap</span> <span class="ow">in</span> <span class="n">required_capabilities</span><span class="p">):</span>
<a href="#__codelineno-0-66" id="__codelineno-0-66" name="__codelineno-0-66"></a>                    <span class="k">return</span> <span class="n">agent_id</span>
<a href="#__codelineno-0-67" id="__codelineno-0-67" name="__codelineno-0-67"></a>        <span class="k">return</span> <span class="kc">None</span>
<a href="#__codelineno-0-68" id="__codelineno-0-68" name="__codelineno-0-68"></a>
<a href="#__codelineno-0-69" id="__codelineno-0-69" name="__codelineno-0-69"></a>    <span class="k">async</span> <span class="k">def</span><span class="w"> </span><span class="nf">execute_task</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">agent_id</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">task</span><span class="p">:</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]):</span>
<a href="#__codelineno-0-70" id="__codelineno-0-70" name="__codelineno-0-70"></a><span class="w">        </span><span class="sd">"""Execute task with assigned agent"""</span>
<a href="#__codelineno-0-71" id="__codelineno-0-71" name="__codelineno-0-71"></a>        <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">"Agent </span><span class="si">{</span><span class="n">agent_id</span><span class="si">}</span><span class="s2"> executing task </span><span class="si">{</span><span class="n">task</span><span class="p">[</span><span class="s1">'id'</span><span class="p">]</span><span class="si">}</span><span class="s2">: </span><span class="si">{</span><span class="n">task</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">'description'</span><span class="p">,</span><span class="w"> </span><span class="s1">'N/A'</span><span class="p">)</span><span class="si">}</span><span class="s2">"</span><span class="p">)</span>
<a href="#__codelineno-0-72" id="__codelineno-0-72" name="__codelineno-0-72"></a>
<a href="#__codelineno-0-73" id="__codelineno-0-73" name="__codelineno-0-73"></a>        <span class="c1"># Simulate task execution time</span>
<a href="#__codelineno-0-74" id="__codelineno-0-74" name="__codelineno-0-74"></a>        <span class="n">execution_time</span> <span class="o">=</span> <span class="n">task</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">'estimated_duration'</span><span class="p">,</span> <span class="mf">2.0</span><span class="p">)</span>
<a href="#__codelineno-0-75" id="__codelineno-0-75" name="__codelineno-0-75"></a>        <span class="k">await</span> <span class="n">asyncio</span><span class="o">.</span><span class="n">sleep</span><span class="p">(</span><span class="n">execution_time</span><span class="p">)</span>
<a href="#__codelineno-0-76" id="__codelineno-0-76" name="__codelineno-0-76"></a>
<a href="#__codelineno-0-77" id="__codelineno-0-77" name="__codelineno-0-77"></a>        <span class="c1"># Complete task</span>
<a href="#__codelineno-0-78" id="__codelineno-0-78" name="__codelineno-0-78"></a>        <span class="bp">self</span><span class="o">.</span><span class="n">agents</span><span class="p">[</span><span class="n">agent_id</span><span class="p">][</span><span class="s1">'status'</span><span class="p">]</span> <span class="o">=</span> <span class="n">AgentStatus</span><span class="o">.</span><span class="n">IDLE</span>
<a href="#__codelineno-0-79" id="__codelineno-0-79" name="__codelineno-0-79"></a>        <span class="bp">self</span><span class="o">.</span><span class="n">agents</span><span class="p">[</span><span class="n">agent_id</span><span class="p">][</span><span class="s1">'current_task'</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
<a href="#__codelineno-0-80" id="__codelineno-0-80" name="__codelineno-0-80"></a>        <span class="bp">self</span><span class="o">.</span><span class="n">agents</span><span class="p">[</span><span class="n">agent_id</span><span class="p">][</span><span class="s1">'completed_tasks'</span><span class="p">]</span> <span class="o">+=</span> <span class="mi">1</span>
<a href="#__codelineno-0-81" id="__codelineno-0-81" name="__codelineno-0-81"></a>
<a href="#__codelineno-0-82" id="__codelineno-0-82" name="__codelineno-0-82"></a>        <span class="n">task</span><span class="p">[</span><span class="s1">'status'</span><span class="p">]</span> <span class="o">=</span> <span class="s1">'completed'</span>
<a href="#__codelineno-0-83" id="__codelineno-0-83" name="__codelineno-0-83"></a>        <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">"Task </span><span class="si">{</span><span class="n">task</span><span class="p">[</span><span class="s1">'id'</span><span class="p">]</span><span class="si">}</span><span class="s2"> completed by agent </span><span class="si">{</span><span class="n">agent_id</span><span class="si">}</span><span class="s2">"</span><span class="p">)</span>
<a href="#__codelineno-0-84" id="__codelineno-0-84" name="__codelineno-0-84"></a>
<a href="#__codelineno-0-85" id="__codelineno-0-85" name="__codelineno-0-85"></a>    <span class="k">def</span><span class="w"> </span><span class="nf">get_system_status</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]:</span>
<a href="#__codelineno-0-86" id="__codelineno-0-86" name="__codelineno-0-86"></a><span class="w">        </span><span class="sd">"""Get overall system status"""</span>
<a href="#__codelineno-0-87" id="__codelineno-0-87" name="__codelineno-0-87"></a>        <span class="n">total_agents</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">agents</span><span class="p">)</span>
<a href="#__codelineno-0-88" id="__codelineno-0-88" name="__codelineno-0-88"></a>        <span class="n">idle_agents</span> <span class="o">=</span> <span class="nb">sum</span><span class="p">(</span><span class="mi">1</span> <span class="k">for</span> <span class="n">a</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">agents</span><span class="o">.</span><span class="n">values</span><span class="p">()</span> <span class="k">if</span> <span class="n">a</span><span class="p">[</span><span class="s1">'status'</span><span class="p">]</span> <span class="o">==</span> <span class="n">AgentStatus</span><span class="o">.</span><span class="n">IDLE</span><span class="p">)</span>
<a href="#__codelineno-0-89" id="__codelineno-0-89" name="__codelineno-0-89"></a>        <span class="n">busy_agents</span> <span class="o">=</span> <span class="nb">sum</span><span class="p">(</span><span class="mi">1</span> <span class="k">for</span> <span class="n">a</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">agents</span><span class="o">.</span><span class="n">values</span><span class="p">()</span> <span class="k">if</span> <span class="n">a</span><span class="p">[</span><span class="s1">'status'</span><span class="p">]</span> <span class="o">==</span> <span class="n">AgentStatus</span><span class="o">.</span><span class="n">BUSY</span><span class="p">)</span>
<a href="#__codelineno-0-90" id="__codelineno-0-90" name="__codelineno-0-90"></a>
<a href="#__codelineno-0-91" id="__codelineno-0-91" name="__codelineno-0-91"></a>        <span class="k">return</span> <span class="p">{</span>
<a href="#__codelineno-0-92" id="__codelineno-0-92" name="__codelineno-0-92"></a>            <span class="s1">'total_agents'</span><span class="p">:</span> <span class="n">total_agents</span><span class="p">,</span>
<a href="#__codelineno-0-93" id="__codelineno-0-93" name="__codelineno-0-93"></a>            <span class="s1">'idle_agents'</span><span class="p">:</span> <span class="n">idle_agents</span><span class="p">,</span>
<a href="#__codelineno-0-94" id="__codelineno-0-94" name="__codelineno-0-94"></a>            <span class="s1">'busy_agents'</span><span class="p">:</span> <span class="n">busy_agents</span><span class="p">,</span>
<a href="#__codelineno-0-95" id="__codelineno-0-95" name="__codelineno-0-95"></a>            <span class="s1">'pending_tasks'</span><span class="p">:</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">task_queue</span><span class="p">),</span>
<a href="#__codelineno-0-96" id="__codelineno-0-96" name="__codelineno-0-96"></a>            <span class="s1">'active_tasks'</span><span class="p">:</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">active_tasks</span><span class="p">),</span>
<a href="#__codelineno-0-97" id="__codelineno-0-97" name="__codelineno-0-97"></a>            <span class="s1">'agent_details'</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">agents</span>
<a href="#__codelineno-0-98" id="__codelineno-0-98" name="__codelineno-0-98"></a>        <span class="p">}</span>
<a href="#__codelineno-0-99" id="__codelineno-0-99" name="__codelineno-0-99"></a>
<a href="#__codelineno-0-100" id="__codelineno-0-100" name="__codelineno-0-100"></a><span class="c1"># Example usage</span>
<a href="#__codelineno-0-101" id="__codelineno-0-101" name="__codelineno-0-101"></a><span class="k">async</span> <span class="k">def</span><span class="w"> </span><span class="nf">demo_central_coordination</span><span class="p">():</span>
<a href="#__codelineno-0-102" id="__codelineno-0-102" name="__codelineno-0-102"></a>    <span class="n">coordinator</span> <span class="o">=</span> <span class="n">CentralCoordinator</span><span class="p">()</span>
<a href="#__codelineno-0-103" id="__codelineno-0-103" name="__codelineno-0-103"></a>
<a href="#__codelineno-0-104" id="__codelineno-0-104" name="__codelineno-0-104"></a>    <span class="c1"># Register agents with different capabilities</span>
<a href="#__codelineno-0-105" id="__codelineno-0-105" name="__codelineno-0-105"></a>    <span class="n">coordinator</span><span class="o">.</span><span class="n">register_agent</span><span class="p">(</span><span class="s1">'agent_web'</span><span class="p">,</span> <span class="p">[</span><span class="s1">'web_search'</span><span class="p">,</span> <span class="s1">'data_extraction'</span><span class="p">])</span>
<a href="#__codelineno-0-106" id="__codelineno-0-106" name="__codelineno-0-106"></a>    <span class="n">coordinator</span><span class="o">.</span><span class="n">register_agent</span><span class="p">(</span><span class="s1">'agent_nlp'</span><span class="p">,</span> <span class="p">[</span><span class="s1">'text_analysis'</span><span class="p">,</span> <span class="s1">'summarization'</span><span class="p">])</span>
<a href="#__codelineno-0-107" id="__codelineno-0-107" name="__codelineno-0-107"></a>    <span class="n">coordinator</span><span class="o">.</span><span class="n">register_agent</span><span class="p">(</span><span class="s1">'agent_math'</span><span class="p">,</span> <span class="p">[</span><span class="s1">'calculation'</span><span class="p">,</span> <span class="s1">'data_analysis'</span><span class="p">])</span>
<a href="#__codelineno-0-108" id="__codelineno-0-108" name="__codelineno-0-108"></a>
<a href="#__codelineno-0-109" id="__codelineno-0-109" name="__codelineno-0-109"></a>    <span class="c1"># Submit tasks</span>
<a href="#__codelineno-0-110" id="__codelineno-0-110" name="__codelineno-0-110"></a>    <span class="n">tasks</span> <span class="o">=</span> <span class="p">[</span>
<a href="#__codelineno-0-111" id="__codelineno-0-111" name="__codelineno-0-111"></a>        <span class="p">{</span><span class="s1">'description'</span><span class="p">:</span> <span class="s1">'Search web for AI news'</span><span class="p">,</span> <span class="s1">'required_capabilities'</span><span class="p">:</span> <span class="p">[</span><span class="s1">'web_search'</span><span class="p">]},</span>
<a href="#__codelineno-0-112" id="__codelineno-0-112" name="__codelineno-0-112"></a>        <span class="p">{</span><span class="s1">'description'</span><span class="p">:</span> <span class="s1">'Analyze sentiment'</span><span class="p">,</span> <span class="s1">'required_capabilities'</span><span class="p">:</span> <span class="p">[</span><span class="s1">'text_analysis'</span><span class="p">]},</span>
<a href="#__codelineno-0-113" id="__codelineno-0-113" name="__codelineno-0-113"></a>        <span class="p">{</span><span class="s1">'description'</span><span class="p">:</span> <span class="s1">'Calculate statistics'</span><span class="p">,</span> <span class="s1">'required_capabilities'</span><span class="p">:</span> <span class="p">[</span><span class="s1">'calculation'</span><span class="p">]},</span>
<a href="#__codelineno-0-114" id="__codelineno-0-114" name="__codelineno-0-114"></a>    <span class="p">]</span>
<a href="#__codelineno-0-115" id="__codelineno-0-115" name="__codelineno-0-115"></a>
<a href="#__codelineno-0-116" id="__codelineno-0-116" name="__codelineno-0-116"></a>    <span class="k">for</span> <span class="n">task</span> <span class="ow">in</span> <span class="n">tasks</span><span class="p">:</span>
<a href="#__codelineno-0-117" id="__codelineno-0-117" name="__codelineno-0-117"></a>        <span class="n">task_id</span> <span class="o">=</span> <span class="n">coordinator</span><span class="o">.</span><span class="n">submit_task</span><span class="p">(</span><span class="n">task</span><span class="p">)</span>
<a href="#__codelineno-0-118" id="__codelineno-0-118" name="__codelineno-0-118"></a>        <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">"Submitted task: </span><span class="si">{</span><span class="n">task_id</span><span class="si">}</span><span class="s2">"</span><span class="p">)</span>
<a href="#__codelineno-0-119" id="__codelineno-0-119" name="__codelineno-0-119"></a>
<a href="#__codelineno-0-120" id="__codelineno-0-120" name="__codelineno-0-120"></a>    <span class="c1"># Process tasks</span>
<a href="#__codelineno-0-121" id="__codelineno-0-121" name="__codelineno-0-121"></a>    <span class="k">await</span> <span class="n">coordinator</span><span class="o">.</span><span class="n">assign_tasks</span><span class="p">()</span>
<a href="#__codelineno-0-122" id="__codelineno-0-122" name="__codelineno-0-122"></a>
<a href="#__codelineno-0-123" id="__codelineno-0-123" name="__codelineno-0-123"></a>    <span class="c1"># Wait for completion</span>
<a href="#__codelineno-0-124" id="__codelineno-0-124" name="__codelineno-0-124"></a>    <span class="k">await</span> <span class="n">asyncio</span><span class="o">.</span><span class="n">sleep</span><span class="p">(</span><span class="mi">3</span><span class="p">)</span>
<a href="#__codelineno-0-125" id="__codelineno-0-125" name="__codelineno-0-125"></a>
<a href="#__codelineno-0-126" id="__codelineno-0-126" name="__codelineno-0-126"></a>    <span class="n">status</span> <span class="o">=</span> <span class="n">coordinator</span><span class="o">.</span><span class="n">get_system_status</span><span class="p">()</span>
<a href="#__codelineno-0-127" id="__codelineno-0-127" name="__codelineno-0-127"></a>    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">"System Status: </span><span class="si">{</span><span class="n">json</span><span class="o">.</span><span class="n">dumps</span><span class="p">(</span><span class="n">status</span><span class="p">,</span><span class="w"> </span><span class="n">indent</span><span class="o">=</span><span class="mi">2</span><span class="p">)</span><span class="si">}</span><span class="s2">"</span><span class="p">)</span>
<a href="#__codelineno-0-128" id="__codelineno-0-128" name="__codelineno-0-128"></a>
<a href="#__codelineno-0-129" id="__codelineno-0-129" name="__codelineno-0-129"></a><span class="c1"># asyncio.run(demo_central_coordination())</span>
</code></pre></div>
<h3 id="2-decentralized-p2p-coordination">2. Decentralized P2P Coordination</h3>
<div class="highlight"><pre><span></span><code><a href="#__codelineno-1-1" id="__codelineno-1-1" name="__codelineno-1-1"></a><span class="k">class</span><span class="w"> </span><span class="nc">P2PAgent</span><span class="p">:</span>
<a href="#__codelineno-1-2" id="__codelineno-1-2" name="__codelineno-1-2"></a><span class="w">    </span><span class="sd">"""Peer-to-peer agent in decentralized system"""</span>
<a href="#__codelineno-1-3" id="__codelineno-1-3" name="__codelineno-1-3"></a>
<a href="#__codelineno-1-4" id="__codelineno-1-4" name="__codelineno-1-4"></a>    <span class="k">def</span><span class="w"> </span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">agent_id</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">capabilities</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">]):</span>
<a href="#__codelineno-1-5" id="__codelineno-1-5" name="__codelineno-1-5"></a>        <span class="bp">self</span><span class="o">.</span><span class="n">agent_id</span> <span class="o">=</span> <span class="n">agent_id</span>
<a href="#__codelineno-1-6" id="__codelineno-1-6" name="__codelineno-1-6"></a>        <span class="bp">self</span><span class="o">.</span><span class="n">capabilities</span> <span class="o">=</span> <span class="n">capabilities</span>
<a href="#__codelineno-1-7" id="__codelineno-1-7" name="__codelineno-1-7"></a>        <span class="bp">self</span><span class="o">.</span><span class="n">peers</span> <span class="o">=</span> <span class="p">{}</span>
<a href="#__codelineno-1-8" id="__codelineno-1-8" name="__codelineno-1-8"></a>        <span class="bp">self</span><span class="o">.</span><span class="n">message_queue</span> <span class="o">=</span> <span class="p">[]</span>
<a href="#__codelineno-1-9" id="__codelineno-1-9" name="__codelineno-1-9"></a>        <span class="bp">self</span><span class="o">.</span><span class="n">reputation_scores</span> <span class="o">=</span> <span class="p">{}</span>
<a href="#__codelineno-1-10" id="__codelineno-1-10" name="__codelineno-1-10"></a>
<a href="#__codelineno-1-11" id="__codelineno-1-11" name="__codelineno-1-11"></a>    <span class="k">def</span><span class="w"> </span><span class="nf">add_peer</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">peer_id</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">peer_capabilities</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">]):</span>
<a href="#__codelineno-1-12" id="__codelineno-1-12" name="__codelineno-1-12"></a><span class="w">        </span><span class="sd">"""Add peer agent"""</span>
<a href="#__codelineno-1-13" id="__codelineno-1-13" name="__codelineno-1-13"></a>        <span class="bp">self</span><span class="o">.</span><span class="n">peers</span><span class="p">[</span><span class="n">peer_id</span><span class="p">]</span> <span class="o">=</span> <span class="p">{</span>
<a href="#__codelineno-1-14" id="__codelineno-1-14" name="__codelineno-1-14"></a>            <span class="s1">'capabilities'</span><span class="p">:</span> <span class="n">peer_capabilities</span><span class="p">,</span>
<a href="#__codelineno-1-15" id="__codelineno-1-15" name="__codelineno-1-15"></a>            <span class="s1">'last_seen'</span><span class="p">:</span> <span class="n">asyncio</span><span class="o">.</span><span class="n">get_event_loop</span><span class="p">()</span><span class="o">.</span><span class="n">time</span><span class="p">(),</span>
<a href="#__codelineno-1-16" id="__codelineno-1-16" name="__codelineno-1-16"></a>            <span class="s1">'trust_score'</span><span class="p">:</span> <span class="mf">0.5</span>
<a href="#__codelineno-1-17" id="__codelineno-1-17" name="__codelineno-1-17"></a>        <span class="p">}</span>
<a href="#__codelineno-1-18" id="__codelineno-1-18" name="__codelineno-1-18"></a>
<a href="#__codelineno-1-19" id="__codelineno-1-19" name="__codelineno-1-19"></a>    <span class="k">async</span> <span class="k">def</span><span class="w"> </span><span class="nf">broadcast_task</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">task</span><span class="p">:</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">]:</span>
<a href="#__codelineno-1-20" id="__codelineno-1-20" name="__codelineno-1-20"></a><span class="w">        </span><span class="sd">"""Broadcast task to suitable peers"""</span>
<a href="#__codelineno-1-21" id="__codelineno-1-21" name="__codelineno-1-21"></a>        <span class="n">required_caps</span> <span class="o">=</span> <span class="n">task</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">'required_capabilities'</span><span class="p">,</span> <span class="p">[])</span>
<a href="#__codelineno-1-22" id="__codelineno-1-22" name="__codelineno-1-22"></a>        <span class="n">suitable_peers</span> <span class="o">=</span> <span class="p">[]</span>
<a href="#__codelineno-1-23" id="__codelineno-1-23" name="__codelineno-1-23"></a>
<a href="#__codelineno-1-24" id="__codelineno-1-24" name="__codelineno-1-24"></a>        <span class="k">for</span> <span class="n">peer_id</span><span class="p">,</span> <span class="n">peer_info</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">peers</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
<a href="#__codelineno-1-25" id="__codelineno-1-25" name="__codelineno-1-25"></a>            <span class="k">if</span> <span class="nb">any</span><span class="p">(</span><span class="n">cap</span> <span class="ow">in</span> <span class="n">peer_info</span><span class="p">[</span><span class="s1">'capabilities'</span><span class="p">]</span> <span class="k">for</span> <span class="n">cap</span> <span class="ow">in</span> <span class="n">required_caps</span><span class="p">):</span>
<a href="#__codelineno-1-26" id="__codelineno-1-26" name="__codelineno-1-26"></a>                <span class="n">suitable_peers</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">peer_id</span><span class="p">)</span>
<a href="#__codelineno-1-27" id="__codelineno-1-27" name="__codelineno-1-27"></a>
<a href="#__codelineno-1-28" id="__codelineno-1-28" name="__codelineno-1-28"></a>        <span class="c1"># Simulate broadcasting</span>
<a href="#__codelineno-1-29" id="__codelineno-1-29" name="__codelineno-1-29"></a>        <span class="n">responses</span> <span class="o">=</span> <span class="p">[]</span>
<a href="#__codelineno-1-30" id="__codelineno-1-30" name="__codelineno-1-30"></a>        <span class="k">for</span> <span class="n">peer_id</span> <span class="ow">in</span> <span class="n">suitable_peers</span><span class="p">:</span>
<a href="#__codelineno-1-31" id="__codelineno-1-31" name="__codelineno-1-31"></a>            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">peers</span><span class="p">[</span><span class="n">peer_id</span><span class="p">][</span><span class="s1">'trust_score'</span><span class="p">]</span> <span class="o">&gt;</span> <span class="mf">0.3</span><span class="p">:</span>  <span class="c1"># Minimum trust</span>
<a href="#__codelineno-1-32" id="__codelineno-1-32" name="__codelineno-1-32"></a>                <span class="n">responses</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">peer_id</span><span class="p">)</span>
<a href="#__codelineno-1-33" id="__codelineno-1-33" name="__codelineno-1-33"></a>
<a href="#__codelineno-1-34" id="__codelineno-1-34" name="__codelineno-1-34"></a>        <span class="k">return</span> <span class="n">responses</span>
<a href="#__codelineno-1-35" id="__codelineno-1-35" name="__codelineno-1-35"></a>
<a href="#__codelineno-1-36" id="__codelineno-1-36" name="__codelineno-1-36"></a>    <span class="k">async</span> <span class="k">def</span><span class="w"> </span><span class="nf">collaborate_on_task</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">task</span><span class="p">:</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">],</span> <span class="n">collaborators</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">]):</span>
<a href="#__codelineno-1-37" id="__codelineno-1-37" name="__codelineno-1-37"></a><span class="w">        </span><span class="sd">"""Collaborate with peers on complex task"""</span>
<a href="#__codelineno-1-38" id="__codelineno-1-38" name="__codelineno-1-38"></a>        <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">"Agent </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">agent_id</span><span class="si">}</span><span class="s2"> collaborating with </span><span class="si">{</span><span class="n">collaborators</span><span class="si">}</span><span class="s2"> on task"</span><span class="p">)</span>
<a href="#__codelineno-1-39" id="__codelineno-1-39" name="__codelineno-1-39"></a>
<a href="#__codelineno-1-40" id="__codelineno-1-40" name="__codelineno-1-40"></a>        <span class="c1"># Divide task among collaborators</span>
<a href="#__codelineno-1-41" id="__codelineno-1-41" name="__codelineno-1-41"></a>        <span class="n">subtasks</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">divide_task</span><span class="p">(</span><span class="n">task</span><span class="p">,</span> <span class="n">collaborators</span><span class="p">)</span>
<a href="#__codelineno-1-42" id="__codelineno-1-42" name="__codelineno-1-42"></a>
<a href="#__codelineno-1-43" id="__codelineno-1-43" name="__codelineno-1-43"></a>        <span class="c1"># Execute subtasks</span>
<a href="#__codelineno-1-44" id="__codelineno-1-44" name="__codelineno-1-44"></a>        <span class="n">results</span> <span class="o">=</span> <span class="p">{}</span>
<a href="#__codelineno-1-45" id="__codelineno-1-45" name="__codelineno-1-45"></a>        <span class="k">for</span> <span class="n">subtask_id</span><span class="p">,</span> <span class="n">subtask</span> <span class="ow">in</span> <span class="n">subtasks</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
<a href="#__codelineno-1-46" id="__codelineno-1-46" name="__codelineno-1-46"></a>            <span class="k">if</span> <span class="n">subtask</span><span class="p">[</span><span class="s1">'assigned_to'</span><span class="p">]</span> <span class="o">==</span> <span class="bp">self</span><span class="o">.</span><span class="n">agent_id</span><span class="p">:</span>
<a href="#__codelineno-1-47" id="__codelineno-1-47" name="__codelineno-1-47"></a>                <span class="n">result</span> <span class="o">=</span> <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">execute_subtask</span><span class="p">(</span><span class="n">subtask</span><span class="p">)</span>
<a href="#__codelineno-1-48" id="__codelineno-1-48" name="__codelineno-1-48"></a>                <span class="n">results</span><span class="p">[</span><span class="n">subtask_id</span><span class="p">]</span> <span class="o">=</span> <span class="n">result</span>
<a href="#__codelineno-1-49" id="__codelineno-1-49" name="__codelineno-1-49"></a>
<a href="#__codelineno-1-50" id="__codelineno-1-50" name="__codelineno-1-50"></a>        <span class="k">return</span> <span class="n">results</span>
<a href="#__codelineno-1-51" id="__codelineno-1-51" name="__codelineno-1-51"></a>
<a href="#__codelineno-1-52" id="__codelineno-1-52" name="__codelineno-1-52"></a>    <span class="k">def</span><span class="w"> </span><span class="nf">divide_task</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">task</span><span class="p">:</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">],</span> <span class="n">collaborators</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]:</span>
<a href="#__codelineno-1-53" id="__codelineno-1-53" name="__codelineno-1-53"></a><span class="w">        </span><span class="sd">"""Divide complex task into subtasks"""</span>
<a href="#__codelineno-1-54" id="__codelineno-1-54" name="__codelineno-1-54"></a>        <span class="n">subtasks</span> <span class="o">=</span> <span class="p">{}</span>
<a href="#__codelineno-1-55" id="__codelineno-1-55" name="__codelineno-1-55"></a>
<a href="#__codelineno-1-56" id="__codelineno-1-56" name="__codelineno-1-56"></a>        <span class="k">if</span> <span class="s1">'web_search'</span> <span class="ow">in</span> <span class="n">task</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">'required_capabilities'</span><span class="p">,</span> <span class="p">[]):</span>
<a href="#__codelineno-1-57" id="__codelineno-1-57" name="__codelineno-1-57"></a>            <span class="n">subtasks</span><span class="p">[</span><span class="s1">'search'</span><span class="p">]</span> <span class="o">=</span> <span class="p">{</span>
<a href="#__codelineno-1-58" id="__codelineno-1-58" name="__codelineno-1-58"></a>                <span class="s1">'type'</span><span class="p">:</span> <span class="s1">'web_search'</span><span class="p">,</span>
<a href="#__codelineno-1-59" id="__codelineno-1-59" name="__codelineno-1-59"></a>                <span class="s1">'assigned_to'</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">find_best_peer_for_capability</span><span class="p">(</span><span class="s1">'web_search'</span><span class="p">,</span> <span class="n">collaborators</span><span class="p">),</span>
<a href="#__codelineno-1-60" id="__codelineno-1-60" name="__codelineno-1-60"></a>                <span class="s1">'description'</span><span class="p">:</span> <span class="s1">'Search for relevant information'</span>
<a href="#__codelineno-1-61" id="__codelineno-1-61" name="__codelineno-1-61"></a>            <span class="p">}</span>
<a href="#__codelineno-1-62" id="__codelineno-1-62" name="__codelineno-1-62"></a>
<a href="#__codelineno-1-63" id="__codelineno-1-63" name="__codelineno-1-63"></a>        <span class="k">if</span> <span class="s1">'text_analysis'</span> <span class="ow">in</span> <span class="n">task</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">'required_capabilities'</span><span class="p">,</span> <span class="p">[]):</span>
<a href="#__codelineno-1-64" id="__codelineno-1-64" name="__codelineno-1-64"></a>            <span class="n">subtasks</span><span class="p">[</span><span class="s1">'analysis'</span><span class="p">]</span> <span class="o">=</span> <span class="p">{</span>
<a href="#__codelineno-1-65" id="__codelineno-1-65" name="__codelineno-1-65"></a>                <span class="s1">'type'</span><span class="p">:</span> <span class="s1">'text_analysis'</span><span class="p">,</span> 
<a href="#__codelineno-1-66" id="__codelineno-1-66" name="__codelineno-1-66"></a>                <span class="s1">'assigned_to'</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">find_best_peer_for_capability</span><span class="p">(</span><span class="s1">'text_analysis'</span><span class="p">,</span> <span class="n">collaborators</span><span class="p">),</span>
<a href="#__codelineno-1-67" id="__codelineno-1-67" name="__codelineno-1-67"></a>                <span class="s1">'description'</span><span class="p">:</span> <span class="s1">'Analyze gathered information'</span>
<a href="#__codelineno-1-68" id="__codelineno-1-68" name="__codelineno-1-68"></a>            <span class="p">}</span>
<a href="#__codelineno-1-69" id="__codelineno-1-69" name="__codelineno-1-69"></a>
<a href="#__codelineno-1-70" id="__codelineno-1-70" name="__codelineno-1-70"></a>        <span class="k">return</span> <span class="n">subtasks</span>
<a href="#__codelineno-1-71" id="__codelineno-1-71" name="__codelineno-1-71"></a>
<a href="#__codelineno-1-72" id="__codelineno-1-72" name="__codelineno-1-72"></a>    <span class="k">def</span><span class="w"> </span><span class="nf">find_best_peer_for_capability</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">capability</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">candidates</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
<a href="#__codelineno-1-73" id="__codelineno-1-73" name="__codelineno-1-73"></a><span class="w">        </span><span class="sd">"""Find best peer for specific capability"""</span>
<a href="#__codelineno-1-74" id="__codelineno-1-74" name="__codelineno-1-74"></a>        <span class="n">best_peer</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">agent_id</span>
<a href="#__codelineno-1-75" id="__codelineno-1-75" name="__codelineno-1-75"></a>        <span class="n">best_score</span> <span class="o">=</span> <span class="mf">0.0</span>
<a href="#__codelineno-1-76" id="__codelineno-1-76" name="__codelineno-1-76"></a>
<a href="#__codelineno-1-77" id="__codelineno-1-77" name="__codelineno-1-77"></a>        <span class="k">for</span> <span class="n">peer_id</span> <span class="ow">in</span> <span class="n">candidates</span> <span class="o">+</span> <span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">agent_id</span><span class="p">]:</span>
<a href="#__codelineno-1-78" id="__codelineno-1-78" name="__codelineno-1-78"></a>            <span class="k">if</span> <span class="n">capability</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_capabilities</span><span class="p">(</span><span class="n">peer_id</span><span class="p">):</span>
<a href="#__codelineno-1-79" id="__codelineno-1-79" name="__codelineno-1-79"></a>                <span class="n">score</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">reputation_scores</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">peer_id</span><span class="p">,</span> <span class="mf">0.5</span><span class="p">)</span>
<a href="#__codelineno-1-80" id="__codelineno-1-80" name="__codelineno-1-80"></a>                <span class="k">if</span> <span class="n">score</span> <span class="o">&gt;</span> <span class="n">best_score</span><span class="p">:</span>
<a href="#__codelineno-1-81" id="__codelineno-1-81" name="__codelineno-1-81"></a>                    <span class="n">best_score</span> <span class="o">=</span> <span class="n">score</span>
<a href="#__codelineno-1-82" id="__codelineno-1-82" name="__codelineno-1-82"></a>                    <span class="n">best_peer</span> <span class="o">=</span> <span class="n">peer_id</span>
<a href="#__codelineno-1-83" id="__codelineno-1-83" name="__codelineno-1-83"></a>
<a href="#__codelineno-1-84" id="__codelineno-1-84" name="__codelineno-1-84"></a>        <span class="k">return</span> <span class="n">best_peer</span>
<a href="#__codelineno-1-85" id="__codelineno-1-85" name="__codelineno-1-85"></a>
<a href="#__codelineno-1-86" id="__codelineno-1-86" name="__codelineno-1-86"></a>    <span class="k">def</span><span class="w"> </span><span class="nf">get_capabilities</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">agent_id</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">]:</span>
<a href="#__codelineno-1-87" id="__codelineno-1-87" name="__codelineno-1-87"></a><span class="w">        </span><span class="sd">"""Get capabilities of agent"""</span>
<a href="#__codelineno-1-88" id="__codelineno-1-88" name="__codelineno-1-88"></a>        <span class="k">if</span> <span class="n">agent_id</span> <span class="o">==</span> <span class="bp">self</span><span class="o">.</span><span class="n">agent_id</span><span class="p">:</span>
<a href="#__codelineno-1-89" id="__codelineno-1-89" name="__codelineno-1-89"></a>            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">capabilities</span>
<a href="#__codelineno-1-90" id="__codelineno-1-90" name="__codelineno-1-90"></a>        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">peers</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">agent_id</span><span class="p">,</span> <span class="p">{})</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">'capabilities'</span><span class="p">,</span> <span class="p">[])</span>
<a href="#__codelineno-1-91" id="__codelineno-1-91" name="__codelineno-1-91"></a>
<a href="#__codelineno-1-92" id="__codelineno-1-92" name="__codelineno-1-92"></a>    <span class="k">async</span> <span class="k">def</span><span class="w"> </span><span class="nf">execute_subtask</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">subtask</span><span class="p">:</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]:</span>
<a href="#__codelineno-1-93" id="__codelineno-1-93" name="__codelineno-1-93"></a><span class="w">        </span><span class="sd">"""Execute assigned subtask"""</span>
<a href="#__codelineno-1-94" id="__codelineno-1-94" name="__codelineno-1-94"></a>        <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">"Agent </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">agent_id</span><span class="si">}</span><span class="s2"> executing subtask: </span><span class="si">{</span><span class="n">subtask</span><span class="p">[</span><span class="s1">'description'</span><span class="p">]</span><span class="si">}</span><span class="s2">"</span><span class="p">)</span>
<a href="#__codelineno-1-95" id="__codelineno-1-95" name="__codelineno-1-95"></a>        <span class="k">await</span> <span class="n">asyncio</span><span class="o">.</span><span class="n">sleep</span><span class="p">(</span><span class="mf">1.0</span><span class="p">)</span>  <span class="c1"># Simulate execution</span>
<a href="#__codelineno-1-96" id="__codelineno-1-96" name="__codelineno-1-96"></a>        <span class="k">return</span> <span class="p">{</span><span class="s1">'status'</span><span class="p">:</span> <span class="s1">'completed'</span><span class="p">,</span> <span class="s1">'result'</span><span class="p">:</span> <span class="sa">f</span><span class="s2">"Result from </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">agent_id</span><span class="si">}</span><span class="s2">"</span><span class="p">}</span>
<a href="#__codelineno-1-97" id="__codelineno-1-97" name="__codelineno-1-97"></a>
<a href="#__codelineno-1-98" id="__codelineno-1-98" name="__codelineno-1-98"></a><span class="c1"># Example P2P system</span>
<a href="#__codelineno-1-99" id="__codelineno-1-99" name="__codelineno-1-99"></a><span class="k">async</span> <span class="k">def</span><span class="w"> </span><span class="nf">demo_p2p_system</span><span class="p">():</span>
<a href="#__codelineno-1-100" id="__codelineno-1-100" name="__codelineno-1-100"></a>    <span class="c1"># Create agents</span>
<a href="#__codelineno-1-101" id="__codelineno-1-101" name="__codelineno-1-101"></a>    <span class="n">agent1</span> <span class="o">=</span> <span class="n">P2PAgent</span><span class="p">(</span><span class="s1">'search_agent'</span><span class="p">,</span> <span class="p">[</span><span class="s1">'web_search'</span><span class="p">,</span> <span class="s1">'data_extraction'</span><span class="p">])</span>
<a href="#__codelineno-1-102" id="__codelineno-1-102" name="__codelineno-1-102"></a>    <span class="n">agent2</span> <span class="o">=</span> <span class="n">P2PAgent</span><span class="p">(</span><span class="s1">'nlp_agent'</span><span class="p">,</span> <span class="p">[</span><span class="s1">'text_analysis'</span><span class="p">,</span> <span class="s1">'summarization'</span><span class="p">])</span>  
<a href="#__codelineno-1-103" id="__codelineno-1-103" name="__codelineno-1-103"></a>    <span class="n">agent3</span> <span class="o">=</span> <span class="n">P2PAgent</span><span class="p">(</span><span class="s1">'coordinator'</span><span class="p">,</span> <span class="p">[</span><span class="s1">'task_planning'</span><span class="p">,</span> <span class="s1">'coordination'</span><span class="p">])</span>
<a href="#__codelineno-1-104" id="__codelineno-1-104" name="__codelineno-1-104"></a>
<a href="#__codelineno-1-105" id="__codelineno-1-105" name="__codelineno-1-105"></a>    <span class="c1"># Connect agents as peers</span>
<a href="#__codelineno-1-106" id="__codelineno-1-106" name="__codelineno-1-106"></a>    <span class="n">agent1</span><span class="o">.</span><span class="n">add_peer</span><span class="p">(</span><span class="s1">'nlp_agent'</span><span class="p">,</span> <span class="p">[</span><span class="s1">'text_analysis'</span><span class="p">,</span> <span class="s1">'summarization'</span><span class="p">])</span>
<a href="#__codelineno-1-107" id="__codelineno-1-107" name="__codelineno-1-107"></a>    <span class="n">agent1</span><span class="o">.</span><span class="n">add_peer</span><span class="p">(</span><span class="s1">'coordinator'</span><span class="p">,</span> <span class="p">[</span><span class="s1">'task_planning'</span><span class="p">,</span> <span class="s1">'coordination'</span><span class="p">])</span>
<a href="#__codelineno-1-108" id="__codelineno-1-108" name="__codelineno-1-108"></a>
<a href="#__codelineno-1-109" id="__codelineno-1-109" name="__codelineno-1-109"></a>    <span class="n">agent2</span><span class="o">.</span><span class="n">add_peer</span><span class="p">(</span><span class="s1">'search_agent'</span><span class="p">,</span> <span class="p">[</span><span class="s1">'web_search'</span><span class="p">,</span> <span class="s1">'data_extraction'</span><span class="p">])</span>
<a href="#__codelineno-1-110" id="__codelineno-1-110" name="__codelineno-1-110"></a>    <span class="n">agent2</span><span class="o">.</span><span class="n">add_peer</span><span class="p">(</span><span class="s1">'coordinator'</span><span class="p">,</span> <span class="p">[</span><span class="s1">'task_planning'</span><span class="p">,</span> <span class="s1">'coordination'</span><span class="p">])</span>
<a href="#__codelineno-1-111" id="__codelineno-1-111" name="__codelineno-1-111"></a>
<a href="#__codelineno-1-112" id="__codelineno-1-112" name="__codelineno-1-112"></a>    <span class="c1"># Collaborative task</span>
<a href="#__codelineno-1-113" id="__codelineno-1-113" name="__codelineno-1-113"></a>    <span class="n">complex_task</span> <span class="o">=</span> <span class="p">{</span>
<a href="#__codelineno-1-114" id="__codelineno-1-114" name="__codelineno-1-114"></a>        <span class="s1">'description'</span><span class="p">:</span> <span class="s1">'Research and analyze market trends'</span><span class="p">,</span>
<a href="#__codelineno-1-115" id="__codelineno-1-115" name="__codelineno-1-115"></a>        <span class="s1">'required_capabilities'</span><span class="p">:</span> <span class="p">[</span><span class="s1">'web_search'</span><span class="p">,</span> <span class="s1">'text_analysis'</span><span class="p">]</span>
<a href="#__codelineno-1-116" id="__codelineno-1-116" name="__codelineno-1-116"></a>    <span class="p">}</span>
<a href="#__codelineno-1-117" id="__codelineno-1-117" name="__codelineno-1-117"></a>
<a href="#__codelineno-1-118" id="__codelineno-1-118" name="__codelineno-1-118"></a>    <span class="n">collaborators</span> <span class="o">=</span> <span class="k">await</span> <span class="n">agent1</span><span class="o">.</span><span class="n">broadcast_task</span><span class="p">(</span><span class="n">complex_task</span><span class="p">)</span>
<a href="#__codelineno-1-119" id="__codelineno-1-119" name="__codelineno-1-119"></a>    <span class="n">results</span> <span class="o">=</span> <span class="k">await</span> <span class="n">agent1</span><span class="o">.</span><span class="n">collaborate_on_task</span><span class="p">(</span><span class="n">complex_task</span><span class="p">,</span> <span class="n">collaborators</span><span class="p">)</span>
<a href="#__codelineno-1-120" id="__codelineno-1-120" name="__codelineno-1-120"></a>
<a href="#__codelineno-1-121" id="__codelineno-1-121" name="__codelineno-1-121"></a>    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">"Collaboration results: </span><span class="si">{</span><span class="n">results</span><span class="si">}</span><span class="s2">"</span><span class="p">)</span>
<a href="#__codelineno-1-122" id="__codelineno-1-122" name="__codelineno-1-122"></a>
<a href="#__codelineno-1-123" id="__codelineno-1-123" name="__codelineno-1-123"></a><span class="c1"># asyncio.run(demo_p2p_system())</span>
</code></pre></div>
<h2 id="communication-protocols">üîÑ Communication Protocols</h2>
<h3 id="message-passing-framework">Message Passing Framework</h3>
<div class="highlight"><pre><span></span><code><a href="#__codelineno-2-1" id="__codelineno-2-1" name="__codelineno-2-1"></a><span class="kn">from</span><span class="w"> </span><span class="nn">enum</span><span class="w"> </span><span class="kn">import</span> <span class="n">Enum</span>
<a href="#__codelineno-2-2" id="__codelineno-2-2" name="__codelineno-2-2"></a><span class="kn">import</span><span class="w"> </span><span class="nn">uuid</span>
<a href="#__codelineno-2-3" id="__codelineno-2-3" name="__codelineno-2-3"></a><span class="kn">from</span><span class="w"> </span><span class="nn">dataclasses</span><span class="w"> </span><span class="kn">import</span> <span class="n">dataclass</span>
<a href="#__codelineno-2-4" id="__codelineno-2-4" name="__codelineno-2-4"></a><span class="kn">from</span><span class="w"> </span><span class="nn">typing</span><span class="w"> </span><span class="kn">import</span> <span class="n">Union</span>
<a href="#__codelineno-2-5" id="__codelineno-2-5" name="__codelineno-2-5"></a>
<a href="#__codelineno-2-6" id="__codelineno-2-6" name="__codelineno-2-6"></a><span class="k">class</span><span class="w"> </span><span class="nc">MessageType</span><span class="p">(</span><span class="n">Enum</span><span class="p">):</span>
<a href="#__codelineno-2-7" id="__codelineno-2-7" name="__codelineno-2-7"></a>    <span class="n">TASK_REQUEST</span> <span class="o">=</span> <span class="s2">"task_request"</span>
<a href="#__codelineno-2-8" id="__codelineno-2-8" name="__codelineno-2-8"></a>    <span class="n">TASK_RESPONSE</span> <span class="o">=</span> <span class="s2">"task_response"</span>  
<a href="#__codelineno-2-9" id="__codelineno-2-9" name="__codelineno-2-9"></a>    <span class="n">COORDINATION</span> <span class="o">=</span> <span class="s2">"coordination"</span>
<a href="#__codelineno-2-10" id="__codelineno-2-10" name="__codelineno-2-10"></a>    <span class="n">HEARTBEAT</span> <span class="o">=</span> <span class="s2">"heartbeat"</span>
<a href="#__codelineno-2-11" id="__codelineno-2-11" name="__codelineno-2-11"></a>    <span class="n">RESOURCE_SHARE</span> <span class="o">=</span> <span class="s2">"resource_share"</span>
<a href="#__codelineno-2-12" id="__codelineno-2-12" name="__codelineno-2-12"></a>
<a href="#__codelineno-2-13" id="__codelineno-2-13" name="__codelineno-2-13"></a><span class="nd">@dataclass</span>
<a href="#__codelineno-2-14" id="__codelineno-2-14" name="__codelineno-2-14"></a><span class="k">class</span><span class="w"> </span><span class="nc">AgentMessage</span><span class="p">:</span>
<a href="#__codelineno-2-15" id="__codelineno-2-15" name="__codelineno-2-15"></a><span class="w">    </span><span class="sd">"""Standard message format for agent communication"""</span>
<a href="#__codelineno-2-16" id="__codelineno-2-16" name="__codelineno-2-16"></a>    <span class="n">sender</span><span class="p">:</span> <span class="nb">str</span>
<a href="#__codelineno-2-17" id="__codelineno-2-17" name="__codelineno-2-17"></a>    <span class="n">receiver</span><span class="p">:</span> <span class="nb">str</span>
<a href="#__codelineno-2-18" id="__codelineno-2-18" name="__codelineno-2-18"></a>    <span class="n">message_type</span><span class="p">:</span> <span class="n">MessageType</span>
<a href="#__codelineno-2-19" id="__codelineno-2-19" name="__codelineno-2-19"></a>    <span class="n">content</span><span class="p">:</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]</span>
<a href="#__codelineno-2-20" id="__codelineno-2-20" name="__codelineno-2-20"></a>    <span class="n">message_id</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="kc">None</span>
<a href="#__codelineno-2-21" id="__codelineno-2-21" name="__codelineno-2-21"></a>    <span class="n">reply_to</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="kc">None</span>
<a href="#__codelineno-2-22" id="__codelineno-2-22" name="__codelineno-2-22"></a>    <span class="n">timestamp</span><span class="p">:</span> <span class="nb">float</span> <span class="o">=</span> <span class="kc">None</span>
<a href="#__codelineno-2-23" id="__codelineno-2-23" name="__codelineno-2-23"></a>    <span class="n">priority</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">1</span>  <span class="c1"># 1=high, 5=low</span>
<a href="#__codelineno-2-24" id="__codelineno-2-24" name="__codelineno-2-24"></a>
<a href="#__codelineno-2-25" id="__codelineno-2-25" name="__codelineno-2-25"></a>    <span class="k">def</span><span class="w"> </span><span class="nf">__post_init__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<a href="#__codelineno-2-26" id="__codelineno-2-26" name="__codelineno-2-26"></a>        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">message_id</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
<a href="#__codelineno-2-27" id="__codelineno-2-27" name="__codelineno-2-27"></a>            <span class="bp">self</span><span class="o">.</span><span class="n">message_id</span> <span class="o">=</span> <span class="nb">str</span><span class="p">(</span><span class="n">uuid</span><span class="o">.</span><span class="n">uuid4</span><span class="p">())</span>
<a href="#__codelineno-2-28" id="__codelineno-2-28" name="__codelineno-2-28"></a>        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">timestamp</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
<a href="#__codelineno-2-29" id="__codelineno-2-29" name="__codelineno-2-29"></a>            <span class="bp">self</span><span class="o">.</span><span class="n">timestamp</span> <span class="o">=</span> <span class="n">asyncio</span><span class="o">.</span><span class="n">get_event_loop</span><span class="p">()</span><span class="o">.</span><span class="n">time</span><span class="p">()</span>
<a href="#__codelineno-2-30" id="__codelineno-2-30" name="__codelineno-2-30"></a>
<a href="#__codelineno-2-31" id="__codelineno-2-31" name="__codelineno-2-31"></a><span class="k">class</span><span class="w"> </span><span class="nc">MessageBroker</span><span class="p">:</span>
<a href="#__codelineno-2-32" id="__codelineno-2-32" name="__codelineno-2-32"></a><span class="w">    </span><span class="sd">"""Centralized message broker for agent communication"""</span>
<a href="#__codelineno-2-33" id="__codelineno-2-33" name="__codelineno-2-33"></a>
<a href="#__codelineno-2-34" id="__codelineno-2-34" name="__codelineno-2-34"></a>    <span class="k">def</span><span class="w"> </span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<a href="#__codelineno-2-35" id="__codelineno-2-35" name="__codelineno-2-35"></a>        <span class="bp">self</span><span class="o">.</span><span class="n">agents</span> <span class="o">=</span> <span class="p">{}</span>
<a href="#__codelineno-2-36" id="__codelineno-2-36" name="__codelineno-2-36"></a>        <span class="bp">self</span><span class="o">.</span><span class="n">message_queues</span> <span class="o">=</span> <span class="p">{}</span>
<a href="#__codelineno-2-37" id="__codelineno-2-37" name="__codelineno-2-37"></a>        <span class="bp">self</span><span class="o">.</span><span class="n">message_history</span> <span class="o">=</span> <span class="p">[]</span>
<a href="#__codelineno-2-38" id="__codelineno-2-38" name="__codelineno-2-38"></a>
<a href="#__codelineno-2-39" id="__codelineno-2-39" name="__codelineno-2-39"></a>    <span class="k">def</span><span class="w"> </span><span class="nf">register_agent</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">agent_id</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">message_handler</span><span class="p">):</span>
<a href="#__codelineno-2-40" id="__codelineno-2-40" name="__codelineno-2-40"></a><span class="w">        </span><span class="sd">"""Register agent with message handler"""</span>
<a href="#__codelineno-2-41" id="__codelineno-2-41" name="__codelineno-2-41"></a>        <span class="bp">self</span><span class="o">.</span><span class="n">agents</span><span class="p">[</span><span class="n">agent_id</span><span class="p">]</span> <span class="o">=</span> <span class="n">message_handler</span>
<a href="#__codelineno-2-42" id="__codelineno-2-42" name="__codelineno-2-42"></a>        <span class="bp">self</span><span class="o">.</span><span class="n">message_queues</span><span class="p">[</span><span class="n">agent_id</span><span class="p">]</span> <span class="o">=</span> <span class="p">[]</span>
<a href="#__codelineno-2-43" id="__codelineno-2-43" name="__codelineno-2-43"></a>
<a href="#__codelineno-2-44" id="__codelineno-2-44" name="__codelineno-2-44"></a>    <span class="k">async</span> <span class="k">def</span><span class="w"> </span><span class="nf">send_message</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">message</span><span class="p">:</span> <span class="n">AgentMessage</span><span class="p">):</span>
<a href="#__codelineno-2-45" id="__codelineno-2-45" name="__codelineno-2-45"></a><span class="w">        </span><span class="sd">"""Send message to target agent"""</span>
<a href="#__codelineno-2-46" id="__codelineno-2-46" name="__codelineno-2-46"></a>        <span class="k">if</span> <span class="n">message</span><span class="o">.</span><span class="n">receiver</span> <span class="ow">not</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">agents</span><span class="p">:</span>
<a href="#__codelineno-2-47" id="__codelineno-2-47" name="__codelineno-2-47"></a>            <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">"Agent </span><span class="si">{</span><span class="n">message</span><span class="o">.</span><span class="n">receiver</span><span class="si">}</span><span class="s2"> not found"</span><span class="p">)</span>
<a href="#__codelineno-2-48" id="__codelineno-2-48" name="__codelineno-2-48"></a>            <span class="k">return</span>
<a href="#__codelineno-2-49" id="__codelineno-2-49" name="__codelineno-2-49"></a>
<a href="#__codelineno-2-50" id="__codelineno-2-50" name="__codelineno-2-50"></a>        <span class="c1"># Add to queue</span>
<a href="#__codelineno-2-51" id="__codelineno-2-51" name="__codelineno-2-51"></a>        <span class="bp">self</span><span class="o">.</span><span class="n">message_queues</span><span class="p">[</span><span class="n">message</span><span class="o">.</span><span class="n">receiver</span><span class="p">]</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">message</span><span class="p">)</span>
<a href="#__codelineno-2-52" id="__codelineno-2-52" name="__codelineno-2-52"></a>        <span class="bp">self</span><span class="o">.</span><span class="n">message_history</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">message</span><span class="p">)</span>
<a href="#__codelineno-2-53" id="__codelineno-2-53" name="__codelineno-2-53"></a>
<a href="#__codelineno-2-54" id="__codelineno-2-54" name="__codelineno-2-54"></a>        <span class="c1"># Deliver message</span>
<a href="#__codelineno-2-55" id="__codelineno-2-55" name="__codelineno-2-55"></a>        <span class="n">handler</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">agents</span><span class="p">[</span><span class="n">message</span><span class="o">.</span><span class="n">receiver</span><span class="p">]</span>
<a href="#__codelineno-2-56" id="__codelineno-2-56" name="__codelineno-2-56"></a>        <span class="k">await</span> <span class="n">handler</span><span class="p">(</span><span class="n">message</span><span class="p">)</span>
<a href="#__codelineno-2-57" id="__codelineno-2-57" name="__codelineno-2-57"></a>
<a href="#__codelineno-2-58" id="__codelineno-2-58" name="__codelineno-2-58"></a>    <span class="k">async</span> <span class="k">def</span><span class="w"> </span><span class="nf">broadcast_message</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">sender</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">message_type</span><span class="p">:</span> <span class="n">MessageType</span><span class="p">,</span> 
<a href="#__codelineno-2-59" id="__codelineno-2-59" name="__codelineno-2-59"></a>                               <span class="n">content</span><span class="p">:</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">],</span> <span class="n">priority</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">1</span><span class="p">):</span>
<a href="#__codelineno-2-60" id="__codelineno-2-60" name="__codelineno-2-60"></a><span class="w">        </span><span class="sd">"""Broadcast message to all agents"""</span>
<a href="#__codelineno-2-61" id="__codelineno-2-61" name="__codelineno-2-61"></a>        <span class="k">for</span> <span class="n">agent_id</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">agents</span><span class="p">:</span>
<a href="#__codelineno-2-62" id="__codelineno-2-62" name="__codelineno-2-62"></a>            <span class="k">if</span> <span class="n">agent_id</span> <span class="o">!=</span> <span class="n">sender</span><span class="p">:</span>
<a href="#__codelineno-2-63" id="__codelineno-2-63" name="__codelineno-2-63"></a>                <span class="n">message</span> <span class="o">=</span> <span class="n">AgentMessage</span><span class="p">(</span>
<a href="#__codelineno-2-64" id="__codelineno-2-64" name="__codelineno-2-64"></a>                    <span class="n">sender</span><span class="o">=</span><span class="n">sender</span><span class="p">,</span>
<a href="#__codelineno-2-65" id="__codelineno-2-65" name="__codelineno-2-65"></a>                    <span class="n">receiver</span><span class="o">=</span><span class="n">agent_id</span><span class="p">,</span>
<a href="#__codelineno-2-66" id="__codelineno-2-66" name="__codelineno-2-66"></a>                    <span class="n">message_type</span><span class="o">=</span><span class="n">message_type</span><span class="p">,</span>
<a href="#__codelineno-2-67" id="__codelineno-2-67" name="__codelineno-2-67"></a>                    <span class="n">content</span><span class="o">=</span><span class="n">content</span><span class="p">,</span>
<a href="#__codelineno-2-68" id="__codelineno-2-68" name="__codelineno-2-68"></a>                    <span class="n">priority</span><span class="o">=</span><span class="n">priority</span>
<a href="#__codelineno-2-69" id="__codelineno-2-69" name="__codelineno-2-69"></a>                <span class="p">)</span>
<a href="#__codelineno-2-70" id="__codelineno-2-70" name="__codelineno-2-70"></a>                <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">send_message</span><span class="p">(</span><span class="n">message</span><span class="p">)</span>
<a href="#__codelineno-2-71" id="__codelineno-2-71" name="__codelineno-2-71"></a>
<a href="#__codelineno-2-72" id="__codelineno-2-72" name="__codelineno-2-72"></a>    <span class="k">def</span><span class="w"> </span><span class="nf">get_agent_messages</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">agent_id</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">limit</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">10</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">List</span><span class="p">[</span><span class="n">AgentMessage</span><span class="p">]:</span>
<a href="#__codelineno-2-73" id="__codelineno-2-73" name="__codelineno-2-73"></a><span class="w">        </span><span class="sd">"""Get recent messages for agent"""</span>
<a href="#__codelineno-2-74" id="__codelineno-2-74" name="__codelineno-2-74"></a>        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">message_queues</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">agent_id</span><span class="p">,</span> <span class="p">[])[</span><span class="o">-</span><span class="n">limit</span><span class="p">:]</span>
<a href="#__codelineno-2-75" id="__codelineno-2-75" name="__codelineno-2-75"></a>
<a href="#__codelineno-2-76" id="__codelineno-2-76" name="__codelineno-2-76"></a><span class="k">class</span><span class="w"> </span><span class="nc">CommunicativeAgent</span><span class="p">:</span>
<a href="#__codelineno-2-77" id="__codelineno-2-77" name="__codelineno-2-77"></a><span class="w">    </span><span class="sd">"""Agent with communication capabilities"""</span>
<a href="#__codelineno-2-78" id="__codelineno-2-78" name="__codelineno-2-78"></a>
<a href="#__codelineno-2-79" id="__codelineno-2-79" name="__codelineno-2-79"></a>    <span class="k">def</span><span class="w"> </span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">agent_id</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">broker</span><span class="p">:</span> <span class="n">MessageBroker</span><span class="p">):</span>
<a href="#__codelineno-2-80" id="__codelineno-2-80" name="__codelineno-2-80"></a>        <span class="bp">self</span><span class="o">.</span><span class="n">agent_id</span> <span class="o">=</span> <span class="n">agent_id</span>
<a href="#__codelineno-2-81" id="__codelineno-2-81" name="__codelineno-2-81"></a>        <span class="bp">self</span><span class="o">.</span><span class="n">broker</span> <span class="o">=</span> <span class="n">broker</span>
<a href="#__codelineno-2-82" id="__codelineno-2-82" name="__codelineno-2-82"></a>        <span class="bp">self</span><span class="o">.</span><span class="n">broker</span><span class="o">.</span><span class="n">register_agent</span><span class="p">(</span><span class="n">agent_id</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">handle_message</span><span class="p">)</span>
<a href="#__codelineno-2-83" id="__codelineno-2-83" name="__codelineno-2-83"></a>
<a href="#__codelineno-2-84" id="__codelineno-2-84" name="__codelineno-2-84"></a>    <span class="k">async</span> <span class="k">def</span><span class="w"> </span><span class="nf">handle_message</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">message</span><span class="p">:</span> <span class="n">AgentMessage</span><span class="p">):</span>
<a href="#__codelineno-2-85" id="__codelineno-2-85" name="__codelineno-2-85"></a><span class="w">        </span><span class="sd">"""Handle incoming messages"""</span>
<a href="#__codelineno-2-86" id="__codelineno-2-86" name="__codelineno-2-86"></a>        <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">"Agent </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">agent_id</span><span class="si">}</span><span class="s2"> received </span><span class="si">{</span><span class="n">message</span><span class="o">.</span><span class="n">message_type</span><span class="o">.</span><span class="n">value</span><span class="si">}</span><span class="s2"> from </span><span class="si">{</span><span class="n">message</span><span class="o">.</span><span class="n">sender</span><span class="si">}</span><span class="s2">"</span><span class="p">)</span>
<a href="#__codelineno-2-87" id="__codelineno-2-87" name="__codelineno-2-87"></a>
<a href="#__codelineno-2-88" id="__codelineno-2-88" name="__codelineno-2-88"></a>        <span class="k">if</span> <span class="n">message</span><span class="o">.</span><span class="n">message_type</span> <span class="o">==</span> <span class="n">MessageType</span><span class="o">.</span><span class="n">TASK_REQUEST</span><span class="p">:</span>
<a href="#__codelineno-2-89" id="__codelineno-2-89" name="__codelineno-2-89"></a>            <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">handle_task_request</span><span class="p">(</span><span class="n">message</span><span class="p">)</span>
<a href="#__codelineno-2-90" id="__codelineno-2-90" name="__codelineno-2-90"></a>        <span class="k">elif</span> <span class="n">message</span><span class="o">.</span><span class="n">message_type</span> <span class="o">==</span> <span class="n">MessageType</span><span class="o">.</span><span class="n">COORDINATION</span><span class="p">:</span>
<a href="#__codelineno-2-91" id="__codelineno-2-91" name="__codelineno-2-91"></a>            <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">handle_coordination</span><span class="p">(</span><span class="n">message</span><span class="p">)</span>
<a href="#__codelineno-2-92" id="__codelineno-2-92" name="__codelineno-2-92"></a>
<a href="#__codelineno-2-93" id="__codelineno-2-93" name="__codelineno-2-93"></a>    <span class="k">async</span> <span class="k">def</span><span class="w"> </span><span class="nf">handle_task_request</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">message</span><span class="p">:</span> <span class="n">AgentMessage</span><span class="p">):</span>
<a href="#__codelineno-2-94" id="__codelineno-2-94" name="__codelineno-2-94"></a><span class="w">        </span><span class="sd">"""Handle task request"""</span>
<a href="#__codelineno-2-95" id="__codelineno-2-95" name="__codelineno-2-95"></a>        <span class="n">task</span> <span class="o">=</span> <span class="n">message</span><span class="o">.</span><span class="n">content</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">'task'</span><span class="p">)</span>
<a href="#__codelineno-2-96" id="__codelineno-2-96" name="__codelineno-2-96"></a>        <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">"Processing task request: </span><span class="si">{</span><span class="n">task</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">'description'</span><span class="p">,</span><span class="w"> </span><span class="s1">'N/A'</span><span class="p">)</span><span class="si">}</span><span class="s2">"</span><span class="p">)</span>
<a href="#__codelineno-2-97" id="__codelineno-2-97" name="__codelineno-2-97"></a>
<a href="#__codelineno-2-98" id="__codelineno-2-98" name="__codelineno-2-98"></a>        <span class="c1"># Send response</span>
<a href="#__codelineno-2-99" id="__codelineno-2-99" name="__codelineno-2-99"></a>        <span class="n">response</span> <span class="o">=</span> <span class="n">AgentMessage</span><span class="p">(</span>
<a href="#__codelineno-2-100" id="__codelineno-2-100" name="__codelineno-2-100"></a>            <span class="n">sender</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">agent_id</span><span class="p">,</span>
<a href="#__codelineno-2-101" id="__codelineno-2-101" name="__codelineno-2-101"></a>            <span class="n">receiver</span><span class="o">=</span><span class="n">message</span><span class="o">.</span><span class="n">sender</span><span class="p">,</span>
<a href="#__codelineno-2-102" id="__codelineno-2-102" name="__codelineno-2-102"></a>            <span class="n">message_type</span><span class="o">=</span><span class="n">MessageType</span><span class="o">.</span><span class="n">TASK_RESPONSE</span><span class="p">,</span>
<a href="#__codelineno-2-103" id="__codelineno-2-103" name="__codelineno-2-103"></a>            <span class="n">content</span><span class="o">=</span><span class="p">{</span><span class="s1">'status'</span><span class="p">:</span> <span class="s1">'accepted'</span><span class="p">,</span> <span class="s1">'task_id'</span><span class="p">:</span> <span class="n">task</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">'id'</span><span class="p">)},</span>
<a href="#__codelineno-2-104" id="__codelineno-2-104" name="__codelineno-2-104"></a>            <span class="n">reply_to</span><span class="o">=</span><span class="n">message</span><span class="o">.</span><span class="n">message_id</span>
<a href="#__codelineno-2-105" id="__codelineno-2-105" name="__codelineno-2-105"></a>        <span class="p">)</span>
<a href="#__codelineno-2-106" id="__codelineno-2-106" name="__codelineno-2-106"></a>        <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">broker</span><span class="o">.</span><span class="n">send_message</span><span class="p">(</span><span class="n">response</span><span class="p">)</span>
<a href="#__codelineno-2-107" id="__codelineno-2-107" name="__codelineno-2-107"></a>
<a href="#__codelineno-2-108" id="__codelineno-2-108" name="__codelineno-2-108"></a>    <span class="k">async</span> <span class="k">def</span><span class="w"> </span><span class="nf">handle_coordination</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">message</span><span class="p">:</span> <span class="n">AgentMessage</span><span class="p">):</span>
<a href="#__codelineno-2-109" id="__codelineno-2-109" name="__codelineno-2-109"></a><span class="w">        </span><span class="sd">"""Handle coordination message"""</span>
<a href="#__codelineno-2-110" id="__codelineno-2-110" name="__codelineno-2-110"></a>        <span class="n">coord_type</span> <span class="o">=</span> <span class="n">message</span><span class="o">.</span><span class="n">content</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">'type'</span><span class="p">)</span>
<a href="#__codelineno-2-111" id="__codelineno-2-111" name="__codelineno-2-111"></a>        <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">"Coordination message: </span><span class="si">{</span><span class="n">coord_type</span><span class="si">}</span><span class="s2">"</span><span class="p">)</span>
<a href="#__codelineno-2-112" id="__codelineno-2-112" name="__codelineno-2-112"></a>
<a href="#__codelineno-2-113" id="__codelineno-2-113" name="__codelineno-2-113"></a>    <span class="k">async</span> <span class="k">def</span><span class="w"> </span><span class="nf">request_collaboration</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">target_agent</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">task</span><span class="p">:</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]):</span>
<a href="#__codelineno-2-114" id="__codelineno-2-114" name="__codelineno-2-114"></a><span class="w">        </span><span class="sd">"""Request collaboration from another agent"""</span>
<a href="#__codelineno-2-115" id="__codelineno-2-115" name="__codelineno-2-115"></a>        <span class="n">message</span> <span class="o">=</span> <span class="n">AgentMessage</span><span class="p">(</span>
<a href="#__codelineno-2-116" id="__codelineno-2-116" name="__codelineno-2-116"></a>            <span class="n">sender</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">agent_id</span><span class="p">,</span>
<a href="#__codelineno-2-117" id="__codelineno-2-117" name="__codelineno-2-117"></a>            <span class="n">receiver</span><span class="o">=</span><span class="n">target_agent</span><span class="p">,</span>
<a href="#__codelineno-2-118" id="__codelineno-2-118" name="__codelineno-2-118"></a>            <span class="n">message_type</span><span class="o">=</span><span class="n">MessageType</span><span class="o">.</span><span class="n">TASK_REQUEST</span><span class="p">,</span>
<a href="#__codelineno-2-119" id="__codelineno-2-119" name="__codelineno-2-119"></a>            <span class="n">content</span><span class="o">=</span><span class="p">{</span><span class="s1">'task'</span><span class="p">:</span> <span class="n">task</span><span class="p">}</span>
<a href="#__codelineno-2-120" id="__codelineno-2-120" name="__codelineno-2-120"></a>        <span class="p">)</span>
<a href="#__codelineno-2-121" id="__codelineno-2-121" name="__codelineno-2-121"></a>        <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">broker</span><span class="o">.</span><span class="n">send_message</span><span class="p">(</span><span class="n">message</span><span class="p">)</span>
<a href="#__codelineno-2-122" id="__codelineno-2-122" name="__codelineno-2-122"></a>
<a href="#__codelineno-2-123" id="__codelineno-2-123" name="__codelineno-2-123"></a><span class="c1"># Example communication system</span>
<a href="#__codelineno-2-124" id="__codelineno-2-124" name="__codelineno-2-124"></a><span class="k">async</span> <span class="k">def</span><span class="w"> </span><span class="nf">demo_communication</span><span class="p">():</span>
<a href="#__codelineno-2-125" id="__codelineno-2-125" name="__codelineno-2-125"></a>    <span class="n">broker</span> <span class="o">=</span> <span class="n">MessageBroker</span><span class="p">()</span>
<a href="#__codelineno-2-126" id="__codelineno-2-126" name="__codelineno-2-126"></a>
<a href="#__codelineno-2-127" id="__codelineno-2-127" name="__codelineno-2-127"></a>    <span class="c1"># Create communicative agents</span>
<a href="#__codelineno-2-128" id="__codelineno-2-128" name="__codelineno-2-128"></a>    <span class="n">agent1</span> <span class="o">=</span> <span class="n">CommunicativeAgent</span><span class="p">(</span><span class="s1">'researcher'</span><span class="p">,</span> <span class="n">broker</span><span class="p">)</span>
<a href="#__codelineno-2-129" id="__codelineno-2-129" name="__codelineno-2-129"></a>    <span class="n">agent2</span> <span class="o">=</span> <span class="n">CommunicativeAgent</span><span class="p">(</span><span class="s1">'analyst'</span><span class="p">,</span> <span class="n">broker</span><span class="p">)</span> 
<a href="#__codelineno-2-130" id="__codelineno-2-130" name="__codelineno-2-130"></a>    <span class="n">agent3</span> <span class="o">=</span> <span class="n">CommunicativeAgent</span><span class="p">(</span><span class="s1">'writer'</span><span class="p">,</span> <span class="n">broker</span><span class="p">)</span>
<a href="#__codelineno-2-131" id="__codelineno-2-131" name="__codelineno-2-131"></a>
<a href="#__codelineno-2-132" id="__codelineno-2-132" name="__codelineno-2-132"></a>    <span class="c1"># Agent 1 requests collaboration</span>
<a href="#__codelineno-2-133" id="__codelineno-2-133" name="__codelineno-2-133"></a>    <span class="n">task</span> <span class="o">=</span> <span class="p">{</span>
<a href="#__codelineno-2-134" id="__codelineno-2-134" name="__codelineno-2-134"></a>        <span class="s1">'id'</span><span class="p">:</span> <span class="s1">'research_task_1'</span><span class="p">,</span>
<a href="#__codelineno-2-135" id="__codelineno-2-135" name="__codelineno-2-135"></a>        <span class="s1">'description'</span><span class="p">:</span> <span class="s1">'Analyze market trends'</span><span class="p">,</span>
<a href="#__codelineno-2-136" id="__codelineno-2-136" name="__codelineno-2-136"></a>        <span class="s1">'requirements'</span><span class="p">:</span> <span class="p">[</span><span class="s1">'data_analysis'</span><span class="p">,</span> <span class="s1">'report_writing'</span><span class="p">]</span>
<a href="#__codelineno-2-137" id="__codelineno-2-137" name="__codelineno-2-137"></a>    <span class="p">}</span>
<a href="#__codelineno-2-138" id="__codelineno-2-138" name="__codelineno-2-138"></a>
<a href="#__codelineno-2-139" id="__codelineno-2-139" name="__codelineno-2-139"></a>    <span class="k">await</span> <span class="n">agent1</span><span class="o">.</span><span class="n">request_collaboration</span><span class="p">(</span><span class="s1">'analyst'</span><span class="p">,</span> <span class="n">task</span><span class="p">)</span>
<a href="#__codelineno-2-140" id="__codelineno-2-140" name="__codelineno-2-140"></a>    <span class="k">await</span> <span class="n">agent2</span><span class="o">.</span><span class="n">request_collaboration</span><span class="p">(</span><span class="s1">'writer'</span><span class="p">,</span> <span class="n">task</span><span class="p">)</span>
<a href="#__codelineno-2-141" id="__codelineno-2-141" name="__codelineno-2-141"></a>
<a href="#__codelineno-2-142" id="__codelineno-2-142" name="__codelineno-2-142"></a>    <span class="c1"># Broadcast coordination message</span>
<a href="#__codelineno-2-143" id="__codelineno-2-143" name="__codelineno-2-143"></a>    <span class="k">await</span> <span class="n">broker</span><span class="o">.</span><span class="n">broadcast_message</span><span class="p">(</span>
<a href="#__codelineno-2-144" id="__codelineno-2-144" name="__codelineno-2-144"></a>        <span class="n">sender</span><span class="o">=</span><span class="s1">'researcher'</span><span class="p">,</span>
<a href="#__codelineno-2-145" id="__codelineno-2-145" name="__codelineno-2-145"></a>        <span class="n">message_type</span><span class="o">=</span><span class="n">MessageType</span><span class="o">.</span><span class="n">COORDINATION</span><span class="p">,</span>
<a href="#__codelineno-2-146" id="__codelineno-2-146" name="__codelineno-2-146"></a>        <span class="n">content</span><span class="o">=</span><span class="p">{</span><span class="s1">'type'</span><span class="p">:</span> <span class="s1">'project_update'</span><span class="p">,</span> <span class="s1">'status'</span><span class="p">:</span> <span class="s1">'in_progress'</span><span class="p">}</span>
<a href="#__codelineno-2-147" id="__codelineno-2-147" name="__codelineno-2-147"></a>    <span class="p">)</span>
<a href="#__codelineno-2-148" id="__codelineno-2-148" name="__codelineno-2-148"></a>
<a href="#__codelineno-2-149" id="__codelineno-2-149" name="__codelineno-2-149"></a><span class="c1"># asyncio.run(demo_communication())</span>
</code></pre></div>
<h2 id="consensus-and-decision-making">üß† Consensus and Decision Making</h2>
<h3 id="voting-based-consensus">Voting-Based Consensus</h3>
<div class="highlight"><pre><span></span><code><a href="#__codelineno-3-1" id="__codelineno-3-1" name="__codelineno-3-1"></a><span class="k">class</span><span class="w"> </span><span class="nc">ConsensusManager</span><span class="p">:</span>
<a href="#__codelineno-3-2" id="__codelineno-3-2" name="__codelineno-3-2"></a><span class="w">    </span><span class="sd">"""Manage consensus decisions among agents"""</span>
<a href="#__codelineno-3-3" id="__codelineno-3-3" name="__codelineno-3-3"></a>
<a href="#__codelineno-3-4" id="__codelineno-3-4" name="__codelineno-3-4"></a>    <span class="k">def</span><span class="w"> </span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<a href="#__codelineno-3-5" id="__codelineno-3-5" name="__codelineno-3-5"></a>        <span class="bp">self</span><span class="o">.</span><span class="n">active_votes</span> <span class="o">=</span> <span class="p">{}</span>
<a href="#__codelineno-3-6" id="__codelineno-3-6" name="__codelineno-3-6"></a>        <span class="bp">self</span><span class="o">.</span><span class="n">vote_history</span> <span class="o">=</span> <span class="p">[]</span>
<a href="#__codelineno-3-7" id="__codelineno-3-7" name="__codelineno-3-7"></a>
<a href="#__codelineno-3-8" id="__codelineno-3-8" name="__codelineno-3-8"></a>    <span class="k">def</span><span class="w"> </span><span class="nf">create_vote</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">proposal_id</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">proposal</span><span class="p">:</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">],</span> 
<a href="#__codelineno-3-9" id="__codelineno-3-9" name="__codelineno-3-9"></a>                   <span class="n">eligible_agents</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">],</span> <span class="n">vote_type</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s2">"majority"</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
<a href="#__codelineno-3-10" id="__codelineno-3-10" name="__codelineno-3-10"></a><span class="w">        </span><span class="sd">"""Create new vote"""</span>
<a href="#__codelineno-3-11" id="__codelineno-3-11" name="__codelineno-3-11"></a>        <span class="bp">self</span><span class="o">.</span><span class="n">active_votes</span><span class="p">[</span><span class="n">proposal_id</span><span class="p">]</span> <span class="o">=</span> <span class="p">{</span>
<a href="#__codelineno-3-12" id="__codelineno-3-12" name="__codelineno-3-12"></a>            <span class="s1">'proposal'</span><span class="p">:</span> <span class="n">proposal</span><span class="p">,</span>
<a href="#__codelineno-3-13" id="__codelineno-3-13" name="__codelineno-3-13"></a>            <span class="s1">'eligible_agents'</span><span class="p">:</span> <span class="nb">set</span><span class="p">(</span><span class="n">eligible_agents</span><span class="p">),</span>
<a href="#__codelineno-3-14" id="__codelineno-3-14" name="__codelineno-3-14"></a>            <span class="s1">'votes'</span><span class="p">:</span> <span class="p">{},</span>
<a href="#__codelineno-3-15" id="__codelineno-3-15" name="__codelineno-3-15"></a>            <span class="s1">'vote_type'</span><span class="p">:</span> <span class="n">vote_type</span><span class="p">,</span>
<a href="#__codelineno-3-16" id="__codelineno-3-16" name="__codelineno-3-16"></a>            <span class="s1">'status'</span><span class="p">:</span> <span class="s1">'active'</span><span class="p">,</span>
<a href="#__codelineno-3-17" id="__codelineno-3-17" name="__codelineno-3-17"></a>            <span class="s1">'created_at'</span><span class="p">:</span> <span class="n">asyncio</span><span class="o">.</span><span class="n">get_event_loop</span><span class="p">()</span><span class="o">.</span><span class="n">time</span><span class="p">()</span>
<a href="#__codelineno-3-18" id="__codelineno-3-18" name="__codelineno-3-18"></a>        <span class="p">}</span>
<a href="#__codelineno-3-19" id="__codelineno-3-19" name="__codelineno-3-19"></a>        <span class="k">return</span> <span class="n">proposal_id</span>
<a href="#__codelineno-3-20" id="__codelineno-3-20" name="__codelineno-3-20"></a>
<a href="#__codelineno-3-21" id="__codelineno-3-21" name="__codelineno-3-21"></a>    <span class="k">def</span><span class="w"> </span><span class="nf">cast_vote</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">proposal_id</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">agent_id</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">vote</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> 
<a href="#__codelineno-3-22" id="__codelineno-3-22" name="__codelineno-3-22"></a>                 <span class="n">confidence</span><span class="p">:</span> <span class="nb">float</span> <span class="o">=</span> <span class="mf">1.0</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
<a href="#__codelineno-3-23" id="__codelineno-3-23" name="__codelineno-3-23"></a><span class="w">        </span><span class="sd">"""Cast vote for proposal"""</span>
<a href="#__codelineno-3-24" id="__codelineno-3-24" name="__codelineno-3-24"></a>        <span class="k">if</span> <span class="n">proposal_id</span> <span class="ow">not</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">active_votes</span><span class="p">:</span>
<a href="#__codelineno-3-25" id="__codelineno-3-25" name="__codelineno-3-25"></a>            <span class="k">return</span> <span class="kc">False</span>
<a href="#__codelineno-3-26" id="__codelineno-3-26" name="__codelineno-3-26"></a>
<a href="#__codelineno-3-27" id="__codelineno-3-27" name="__codelineno-3-27"></a>        <span class="n">vote_data</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">active_votes</span><span class="p">[</span><span class="n">proposal_id</span><span class="p">]</span>
<a href="#__codelineno-3-28" id="__codelineno-3-28" name="__codelineno-3-28"></a>
<a href="#__codelineno-3-29" id="__codelineno-3-29" name="__codelineno-3-29"></a>        <span class="k">if</span> <span class="n">agent_id</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">vote_data</span><span class="p">[</span><span class="s1">'eligible_agents'</span><span class="p">]:</span>
<a href="#__codelineno-3-30" id="__codelineno-3-30" name="__codelineno-3-30"></a>            <span class="k">return</span> <span class="kc">False</span>
<a href="#__codelineno-3-31" id="__codelineno-3-31" name="__codelineno-3-31"></a>
<a href="#__codelineno-3-32" id="__codelineno-3-32" name="__codelineno-3-32"></a>        <span class="n">vote_data</span><span class="p">[</span><span class="s1">'votes'</span><span class="p">][</span><span class="n">agent_id</span><span class="p">]</span> <span class="o">=</span> <span class="p">{</span>
<a href="#__codelineno-3-33" id="__codelineno-3-33" name="__codelineno-3-33"></a>            <span class="s1">'vote'</span><span class="p">:</span> <span class="n">vote</span><span class="p">,</span>
<a href="#__codelineno-3-34" id="__codelineno-3-34" name="__codelineno-3-34"></a>            <span class="s1">'confidence'</span><span class="p">:</span> <span class="n">confidence</span><span class="p">,</span>
<a href="#__codelineno-3-35" id="__codelineno-3-35" name="__codelineno-3-35"></a>            <span class="s1">'timestamp'</span><span class="p">:</span> <span class="n">asyncio</span><span class="o">.</span><span class="n">get_event_loop</span><span class="p">()</span><span class="o">.</span><span class="n">time</span><span class="p">()</span>
<a href="#__codelineno-3-36" id="__codelineno-3-36" name="__codelineno-3-36"></a>        <span class="p">}</span>
<a href="#__codelineno-3-37" id="__codelineno-3-37" name="__codelineno-3-37"></a>
<a href="#__codelineno-3-38" id="__codelineno-3-38" name="__codelineno-3-38"></a>        <span class="c1"># Check if consensus reached</span>
<a href="#__codelineno-3-39" id="__codelineno-3-39" name="__codelineno-3-39"></a>        <span class="bp">self</span><span class="o">.</span><span class="n">check_consensus</span><span class="p">(</span><span class="n">proposal_id</span><span class="p">)</span>
<a href="#__codelineno-3-40" id="__codelineno-3-40" name="__codelineno-3-40"></a>        <span class="k">return</span> <span class="kc">True</span>
<a href="#__codelineno-3-41" id="__codelineno-3-41" name="__codelineno-3-41"></a>
<a href="#__codelineno-3-42" id="__codelineno-3-42" name="__codelineno-3-42"></a>    <span class="k">def</span><span class="w"> </span><span class="nf">check_consensus</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">proposal_id</span><span class="p">:</span> <span class="nb">str</span><span class="p">):</span>
<a href="#__codelineno-3-43" id="__codelineno-3-43" name="__codelineno-3-43"></a><span class="w">        </span><span class="sd">"""Check if consensus has been reached"""</span>
<a href="#__codelineno-3-44" id="__codelineno-3-44" name="__codelineno-3-44"></a>        <span class="n">vote_data</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">active_votes</span><span class="p">[</span><span class="n">proposal_id</span><span class="p">]</span>
<a href="#__codelineno-3-45" id="__codelineno-3-45" name="__codelineno-3-45"></a>
<a href="#__codelineno-3-46" id="__codelineno-3-46" name="__codelineno-3-46"></a>        <span class="k">if</span> <span class="n">vote_data</span><span class="p">[</span><span class="s1">'status'</span><span class="p">]</span> <span class="o">!=</span> <span class="s1">'active'</span><span class="p">:</span>
<a href="#__codelineno-3-47" id="__codelineno-3-47" name="__codelineno-3-47"></a>            <span class="k">return</span>
<a href="#__codelineno-3-48" id="__codelineno-3-48" name="__codelineno-3-48"></a>
<a href="#__codelineno-3-49" id="__codelineno-3-49" name="__codelineno-3-49"></a>        <span class="n">total_eligible</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">vote_data</span><span class="p">[</span><span class="s1">'eligible_agents'</span><span class="p">])</span>
<a href="#__codelineno-3-50" id="__codelineno-3-50" name="__codelineno-3-50"></a>        <span class="n">votes_cast</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">vote_data</span><span class="p">[</span><span class="s1">'votes'</span><span class="p">])</span>
<a href="#__codelineno-3-51" id="__codelineno-3-51" name="__codelineno-3-51"></a>
<a href="#__codelineno-3-52" id="__codelineno-3-52" name="__codelineno-3-52"></a>        <span class="c1"># Check participation threshold</span>
<a href="#__codelineno-3-53" id="__codelineno-3-53" name="__codelineno-3-53"></a>        <span class="k">if</span> <span class="n">votes_cast</span> <span class="o">&lt;</span> <span class="n">total_eligible</span> <span class="o">*</span> <span class="mf">0.6</span><span class="p">:</span>  <span class="c1"># 60% participation required</span>
<a href="#__codelineno-3-54" id="__codelineno-3-54" name="__codelineno-3-54"></a>            <span class="k">return</span>
<a href="#__codelineno-3-55" id="__codelineno-3-55" name="__codelineno-3-55"></a>
<a href="#__codelineno-3-56" id="__codelineno-3-56" name="__codelineno-3-56"></a>        <span class="n">vote_counts</span> <span class="o">=</span> <span class="p">{}</span>
<a href="#__codelineno-3-57" id="__codelineno-3-57" name="__codelineno-3-57"></a>        <span class="n">confidence_weights</span> <span class="o">=</span> <span class="p">{}</span>
<a href="#__codelineno-3-58" id="__codelineno-3-58" name="__codelineno-3-58"></a>
<a href="#__codelineno-3-59" id="__codelineno-3-59" name="__codelineno-3-59"></a>        <span class="k">for</span> <span class="n">agent_id</span><span class="p">,</span> <span class="n">vote_info</span> <span class="ow">in</span> <span class="n">vote_data</span><span class="p">[</span><span class="s1">'votes'</span><span class="p">]</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
<a href="#__codelineno-3-60" id="__codelineno-3-60" name="__codelineno-3-60"></a>            <span class="n">vote_option</span> <span class="o">=</span> <span class="n">vote_info</span><span class="p">[</span><span class="s1">'vote'</span><span class="p">]</span>
<a href="#__codelineno-3-61" id="__codelineno-3-61" name="__codelineno-3-61"></a>            <span class="n">confidence</span> <span class="o">=</span> <span class="n">vote_info</span><span class="p">[</span><span class="s1">'confidence'</span><span class="p">]</span>
<a href="#__codelineno-3-62" id="__codelineno-3-62" name="__codelineno-3-62"></a>
<a href="#__codelineno-3-63" id="__codelineno-3-63" name="__codelineno-3-63"></a>            <span class="n">vote_counts</span><span class="p">[</span><span class="n">vote_option</span><span class="p">]</span> <span class="o">=</span> <span class="n">vote_counts</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">vote_option</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span> <span class="o">+</span> <span class="mi">1</span>
<a href="#__codelineno-3-64" id="__codelineno-3-64" name="__codelineno-3-64"></a>            <span class="n">confidence_weights</span><span class="p">[</span><span class="n">vote_option</span><span class="p">]</span> <span class="o">=</span> <span class="n">confidence_weights</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">vote_option</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span> <span class="o">+</span> <span class="n">confidence</span>
<a href="#__codelineno-3-65" id="__codelineno-3-65" name="__codelineno-3-65"></a>
<a href="#__codelineno-3-66" id="__codelineno-3-66" name="__codelineno-3-66"></a>        <span class="c1"># Determine winner based on vote type</span>
<a href="#__codelineno-3-67" id="__codelineno-3-67" name="__codelineno-3-67"></a>        <span class="k">if</span> <span class="n">vote_data</span><span class="p">[</span><span class="s1">'vote_type'</span><span class="p">]</span> <span class="o">==</span> <span class="s1">'majority'</span><span class="p">:</span>
<a href="#__codelineno-3-68" id="__codelineno-3-68" name="__codelineno-3-68"></a>            <span class="n">winner</span> <span class="o">=</span> <span class="nb">max</span><span class="p">(</span><span class="n">vote_counts</span><span class="o">.</span><span class="n">items</span><span class="p">(),</span> <span class="n">key</span><span class="o">=</span><span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="n">x</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span>
<a href="#__codelineno-3-69" id="__codelineno-3-69" name="__codelineno-3-69"></a>            <span class="k">if</span> <span class="n">winner</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">&gt;</span> <span class="n">total_eligible</span> <span class="o">/</span> <span class="mi">2</span><span class="p">:</span>
<a href="#__codelineno-3-70" id="__codelineno-3-70" name="__codelineno-3-70"></a>                <span class="n">vote_data</span><span class="p">[</span><span class="s1">'status'</span><span class="p">]</span> <span class="o">=</span> <span class="s1">'passed'</span>
<a href="#__codelineno-3-71" id="__codelineno-3-71" name="__codelineno-3-71"></a>                <span class="n">vote_data</span><span class="p">[</span><span class="s1">'result'</span><span class="p">]</span> <span class="o">=</span> <span class="n">winner</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
<a href="#__codelineno-3-72" id="__codelineno-3-72" name="__codelineno-3-72"></a>
<a href="#__codelineno-3-73" id="__codelineno-3-73" name="__codelineno-3-73"></a>        <span class="k">elif</span> <span class="n">vote_data</span><span class="p">[</span><span class="s1">'vote_type'</span><span class="p">]</span> <span class="o">==</span> <span class="s1">'confidence_weighted'</span><span class="p">:</span>
<a href="#__codelineno-3-74" id="__codelineno-3-74" name="__codelineno-3-74"></a>            <span class="n">winner</span> <span class="o">=</span> <span class="nb">max</span><span class="p">(</span><span class="n">confidence_weights</span><span class="o">.</span><span class="n">items</span><span class="p">(),</span> <span class="n">key</span><span class="o">=</span><span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="n">x</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span>
<a href="#__codelineno-3-75" id="__codelineno-3-75" name="__codelineno-3-75"></a>            <span class="n">vote_data</span><span class="p">[</span><span class="s1">'status'</span><span class="p">]</span> <span class="o">=</span> <span class="s1">'passed'</span>
<a href="#__codelineno-3-76" id="__codelineno-3-76" name="__codelineno-3-76"></a>            <span class="n">vote_data</span><span class="p">[</span><span class="s1">'result'</span><span class="p">]</span> <span class="o">=</span> <span class="n">winner</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
<a href="#__codelineno-3-77" id="__codelineno-3-77" name="__codelineno-3-77"></a>
<a href="#__codelineno-3-78" id="__codelineno-3-78" name="__codelineno-3-78"></a>        <span class="k">if</span> <span class="n">vote_data</span><span class="p">[</span><span class="s1">'status'</span><span class="p">]</span> <span class="o">==</span> <span class="s1">'passed'</span><span class="p">:</span>
<a href="#__codelineno-3-79" id="__codelineno-3-79" name="__codelineno-3-79"></a>            <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">"Consensus reached for </span><span class="si">{</span><span class="n">proposal_id</span><span class="si">}</span><span class="s2">: </span><span class="si">{</span><span class="n">vote_data</span><span class="p">[</span><span class="s1">'result'</span><span class="p">]</span><span class="si">}</span><span class="s2">"</span><span class="p">)</span>
<a href="#__codelineno-3-80" id="__codelineno-3-80" name="__codelineno-3-80"></a>
<a href="#__codelineno-3-81" id="__codelineno-3-81" name="__codelineno-3-81"></a>    <span class="k">def</span><span class="w"> </span><span class="nf">get_vote_status</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">proposal_id</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]:</span>
<a href="#__codelineno-3-82" id="__codelineno-3-82" name="__codelineno-3-82"></a><span class="w">        </span><span class="sd">"""Get current vote status"""</span>
<a href="#__codelineno-3-83" id="__codelineno-3-83" name="__codelineno-3-83"></a>        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">active_votes</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">proposal_id</span><span class="p">,</span> <span class="p">{})</span>
<a href="#__codelineno-3-84" id="__codelineno-3-84" name="__codelineno-3-84"></a>
<a href="#__codelineno-3-85" id="__codelineno-3-85" name="__codelineno-3-85"></a><span class="c1"># Example consensus system</span>
<a href="#__codelineno-3-86" id="__codelineno-3-86" name="__codelineno-3-86"></a><span class="k">async</span> <span class="k">def</span><span class="w"> </span><span class="nf">demo_consensus</span><span class="p">():</span>
<a href="#__codelineno-3-87" id="__codelineno-3-87" name="__codelineno-3-87"></a>    <span class="n">consensus</span> <span class="o">=</span> <span class="n">ConsensusManager</span><span class="p">()</span>
<a href="#__codelineno-3-88" id="__codelineno-3-88" name="__codelineno-3-88"></a>
<a href="#__codelineno-3-89" id="__codelineno-3-89" name="__codelineno-3-89"></a>    <span class="c1"># Create vote</span>
<a href="#__codelineno-3-90" id="__codelineno-3-90" name="__codelineno-3-90"></a>    <span class="n">proposal</span> <span class="o">=</span> <span class="p">{</span>
<a href="#__codelineno-3-91" id="__codelineno-3-91" name="__codelineno-3-91"></a>        <span class="s1">'action'</span><span class="p">:</span> <span class="s1">'deploy_model'</span><span class="p">,</span>
<a href="#__codelineno-3-92" id="__codelineno-3-92" name="__codelineno-3-92"></a>        <span class="s1">'model_version'</span><span class="p">:</span> <span class="s1">'v2.1'</span><span class="p">,</span>
<a href="#__codelineno-3-93" id="__codelineno-3-93" name="__codelineno-3-93"></a>        <span class="s1">'deployment_environment'</span><span class="p">:</span> <span class="s1">'production'</span>
<a href="#__codelineno-3-94" id="__codelineno-3-94" name="__codelineno-3-94"></a>    <span class="p">}</span>
<a href="#__codelineno-3-95" id="__codelineno-3-95" name="__codelineno-3-95"></a>
<a href="#__codelineno-3-96" id="__codelineno-3-96" name="__codelineno-3-96"></a>    <span class="n">agents</span> <span class="o">=</span> <span class="p">[</span><span class="s1">'safety_agent'</span><span class="p">,</span> <span class="s1">'performance_agent'</span><span class="p">,</span> <span class="s1">'security_agent'</span><span class="p">,</span> <span class="s1">'ops_agent'</span><span class="p">]</span>
<a href="#__codelineno-3-97" id="__codelineno-3-97" name="__codelineno-3-97"></a>    <span class="n">proposal_id</span> <span class="o">=</span> <span class="n">consensus</span><span class="o">.</span><span class="n">create_vote</span><span class="p">(</span><span class="s1">'deploy_v2_1'</span><span class="p">,</span> <span class="n">proposal</span><span class="p">,</span> <span class="n">agents</span><span class="p">,</span> <span class="s1">'majority'</span><span class="p">)</span>
<a href="#__codelineno-3-98" id="__codelineno-3-98" name="__codelineno-3-98"></a>
<a href="#__codelineno-3-99" id="__codelineno-3-99" name="__codelineno-3-99"></a>    <span class="c1"># Agents cast votes</span>
<a href="#__codelineno-3-100" id="__codelineno-3-100" name="__codelineno-3-100"></a>    <span class="n">consensus</span><span class="o">.</span><span class="n">cast_vote</span><span class="p">(</span><span class="n">proposal_id</span><span class="p">,</span> <span class="s1">'safety_agent'</span><span class="p">,</span> <span class="s1">'approve'</span><span class="p">,</span> <span class="mf">0.9</span><span class="p">)</span>
<a href="#__codelineno-3-101" id="__codelineno-3-101" name="__codelineno-3-101"></a>    <span class="n">consensus</span><span class="o">.</span><span class="n">cast_vote</span><span class="p">(</span><span class="n">proposal_id</span><span class="p">,</span> <span class="s1">'performance_agent'</span><span class="p">,</span> <span class="s1">'approve'</span><span class="p">,</span> <span class="mf">0.8</span><span class="p">)</span>
<a href="#__codelineno-3-102" id="__codelineno-3-102" name="__codelineno-3-102"></a>    <span class="n">consensus</span><span class="o">.</span><span class="n">cast_vote</span><span class="p">(</span><span class="n">proposal_id</span><span class="p">,</span> <span class="s1">'security_agent'</span><span class="p">,</span> <span class="s1">'reject'</span><span class="p">,</span> <span class="mf">0.7</span><span class="p">)</span>
<a href="#__codelineno-3-103" id="__codelineno-3-103" name="__codelineno-3-103"></a>    <span class="n">consensus</span><span class="o">.</span><span class="n">cast_vote</span><span class="p">(</span><span class="n">proposal_id</span><span class="p">,</span> <span class="s1">'ops_agent'</span><span class="p">,</span> <span class="s1">'approve'</span><span class="p">,</span> <span class="mf">0.85</span><span class="p">)</span>
<a href="#__codelineno-3-104" id="__codelineno-3-104" name="__codelineno-3-104"></a>
<a href="#__codelineno-3-105" id="__codelineno-3-105" name="__codelineno-3-105"></a>    <span class="n">status</span> <span class="o">=</span> <span class="n">consensus</span><span class="o">.</span><span class="n">get_vote_status</span><span class="p">(</span><span class="n">proposal_id</span><span class="p">)</span>
<a href="#__codelineno-3-106" id="__codelineno-3-106" name="__codelineno-3-106"></a>    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">"Vote result: </span><span class="si">{</span><span class="n">status</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">'result'</span><span class="p">,</span><span class="w"> </span><span class="s1">'No consensus'</span><span class="p">)</span><span class="si">}</span><span class="s2">"</span><span class="p">)</span>
<a href="#__codelineno-3-107" id="__codelineno-3-107" name="__codelineno-3-107"></a>
<a href="#__codelineno-3-108" id="__codelineno-3-108" name="__codelineno-3-108"></a><span class="c1"># asyncio.run(demo_consensus())</span>
</code></pre></div>
<h2 id="popular-mcp-frameworks">üîß Popular MCP Frameworks</h2>
<h3 id="autogen-framework-example">AutoGen Framework Example</h3>
<div class="highlight"><pre><span></span><code><a href="#__codelineno-4-1" id="__codelineno-4-1" name="__codelineno-4-1"></a><span class="c1"># Simplified AutoGen-style implementation</span>
<a href="#__codelineno-4-2" id="__codelineno-4-2" name="__codelineno-4-2"></a><span class="k">class</span><span class="w"> </span><span class="nc">AutoGenAgent</span><span class="p">:</span>
<a href="#__codelineno-4-3" id="__codelineno-4-3" name="__codelineno-4-3"></a><span class="w">    </span><span class="sd">"""AutoGen-style conversational agent"""</span>
<a href="#__codelineno-4-4" id="__codelineno-4-4" name="__codelineno-4-4"></a>
<a href="#__codelineno-4-5" id="__codelineno-4-5" name="__codelineno-4-5"></a>    <span class="k">def</span><span class="w"> </span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">name</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">system_message</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">llm_client</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
<a href="#__codelineno-4-6" id="__codelineno-4-6" name="__codelineno-4-6"></a>        <span class="bp">self</span><span class="o">.</span><span class="n">name</span> <span class="o">=</span> <span class="n">name</span>
<a href="#__codelineno-4-7" id="__codelineno-4-7" name="__codelineno-4-7"></a>        <span class="bp">self</span><span class="o">.</span><span class="n">system_message</span> <span class="o">=</span> <span class="n">system_message</span>
<a href="#__codelineno-4-8" id="__codelineno-4-8" name="__codelineno-4-8"></a>        <span class="bp">self</span><span class="o">.</span><span class="n">conversation_history</span> <span class="o">=</span> <span class="p">[]</span>
<a href="#__codelineno-4-9" id="__codelineno-4-9" name="__codelineno-4-9"></a>        <span class="bp">self</span><span class="o">.</span><span class="n">llm_client</span> <span class="o">=</span> <span class="n">llm_client</span>
<a href="#__codelineno-4-10" id="__codelineno-4-10" name="__codelineno-4-10"></a>
<a href="#__codelineno-4-11" id="__codelineno-4-11" name="__codelineno-4-11"></a>    <span class="k">async</span> <span class="k">def</span><span class="w"> </span><span class="nf">generate_response</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">message</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">context</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="n">Dict</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
<a href="#__codelineno-4-12" id="__codelineno-4-12" name="__codelineno-4-12"></a><span class="w">        </span><span class="sd">"""Generate response to message"""</span>
<a href="#__codelineno-4-13" id="__codelineno-4-13" name="__codelineno-4-13"></a>        <span class="c1"># Add to conversation history</span>
<a href="#__codelineno-4-14" id="__codelineno-4-14" name="__codelineno-4-14"></a>        <span class="bp">self</span><span class="o">.</span><span class="n">conversation_history</span><span class="o">.</span><span class="n">append</span><span class="p">({</span><span class="s2">"role"</span><span class="p">:</span> <span class="s2">"user"</span><span class="p">,</span> <span class="s2">"content"</span><span class="p">:</span> <span class="n">message</span><span class="p">})</span>
<a href="#__codelineno-4-15" id="__codelineno-4-15" name="__codelineno-4-15"></a>
<a href="#__codelineno-4-16" id="__codelineno-4-16" name="__codelineno-4-16"></a>        <span class="c1"># Build prompt with context</span>
<a href="#__codelineno-4-17" id="__codelineno-4-17" name="__codelineno-4-17"></a>        <span class="n">prompt_parts</span> <span class="o">=</span> <span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">system_message</span><span class="p">]</span>
<a href="#__codelineno-4-18" id="__codelineno-4-18" name="__codelineno-4-18"></a>        <span class="k">if</span> <span class="n">context</span><span class="p">:</span>
<a href="#__codelineno-4-19" id="__codelineno-4-19" name="__codelineno-4-19"></a>            <span class="n">prompt_parts</span><span class="o">.</span><span class="n">extend</span><span class="p">([</span><span class="sa">f</span><span class="s2">"</span><span class="si">{</span><span class="n">ctx</span><span class="p">[</span><span class="s1">'sender'</span><span class="p">]</span><span class="si">}</span><span class="s2">: </span><span class="si">{</span><span class="n">ctx</span><span class="p">[</span><span class="s1">'message'</span><span class="p">]</span><span class="si">}</span><span class="s2">"</span> <span class="k">for</span> <span class="n">ctx</span> <span class="ow">in</span> <span class="n">context</span><span class="p">])</span>
<a href="#__codelineno-4-20" id="__codelineno-4-20" name="__codelineno-4-20"></a>        <span class="n">prompt_parts</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="sa">f</span><span class="s2">"User: </span><span class="si">{</span><span class="n">message</span><span class="si">}</span><span class="s2">"</span><span class="p">)</span>
<a href="#__codelineno-4-21" id="__codelineno-4-21" name="__codelineno-4-21"></a>
<a href="#__codelineno-4-22" id="__codelineno-4-22" name="__codelineno-4-22"></a>        <span class="c1"># Simulate LLM response</span>
<a href="#__codelineno-4-23" id="__codelineno-4-23" name="__codelineno-4-23"></a>        <span class="n">response</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">"[</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">name</span><span class="si">}</span><span class="s2">] Response to: </span><span class="si">{</span><span class="n">message</span><span class="si">}</span><span class="s2">"</span>
<a href="#__codelineno-4-24" id="__codelineno-4-24" name="__codelineno-4-24"></a>
<a href="#__codelineno-4-25" id="__codelineno-4-25" name="__codelineno-4-25"></a>        <span class="bp">self</span><span class="o">.</span><span class="n">conversation_history</span><span class="o">.</span><span class="n">append</span><span class="p">({</span><span class="s2">"role"</span><span class="p">:</span> <span class="s2">"assistant"</span><span class="p">,</span> <span class="s2">"content"</span><span class="p">:</span> <span class="n">response</span><span class="p">})</span>
<a href="#__codelineno-4-26" id="__codelineno-4-26" name="__codelineno-4-26"></a>        <span class="k">return</span> <span class="n">response</span>
<a href="#__codelineno-4-27" id="__codelineno-4-27" name="__codelineno-4-27"></a>
<a href="#__codelineno-4-28" id="__codelineno-4-28" name="__codelineno-4-28"></a><span class="k">class</span><span class="w"> </span><span class="nc">GroupChat</span><span class="p">:</span>
<a href="#__codelineno-4-29" id="__codelineno-4-29" name="__codelineno-4-29"></a><span class="w">    </span><span class="sd">"""Multi-agent group conversation"""</span>
<a href="#__codelineno-4-30" id="__codelineno-4-30" name="__codelineno-4-30"></a>
<a href="#__codelineno-4-31" id="__codelineno-4-31" name="__codelineno-4-31"></a>    <span class="k">def</span><span class="w"> </span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<a href="#__codelineno-4-32" id="__codelineno-4-32" name="__codelineno-4-32"></a>        <span class="bp">self</span><span class="o">.</span><span class="n">agents</span> <span class="o">=</span> <span class="p">{}</span>
<a href="#__codelineno-4-33" id="__codelineno-4-33" name="__codelineno-4-33"></a>        <span class="bp">self</span><span class="o">.</span><span class="n">conversation_log</span> <span class="o">=</span> <span class="p">[]</span>
<a href="#__codelineno-4-34" id="__codelineno-4-34" name="__codelineno-4-34"></a>        <span class="bp">self</span><span class="o">.</span><span class="n">turn_order</span> <span class="o">=</span> <span class="p">[]</span>
<a href="#__codelineno-4-35" id="__codelineno-4-35" name="__codelineno-4-35"></a>        <span class="bp">self</span><span class="o">.</span><span class="n">current_speaker</span> <span class="o">=</span> <span class="mi">0</span>
<a href="#__codelineno-4-36" id="__codelineno-4-36" name="__codelineno-4-36"></a>
<a href="#__codelineno-4-37" id="__codelineno-4-37" name="__codelineno-4-37"></a>    <span class="k">def</span><span class="w"> </span><span class="nf">add_agent</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">agent</span><span class="p">:</span> <span class="n">AutoGenAgent</span><span class="p">):</span>
<a href="#__codelineno-4-38" id="__codelineno-4-38" name="__codelineno-4-38"></a><span class="w">        </span><span class="sd">"""Add agent to group chat"""</span>
<a href="#__codelineno-4-39" id="__codelineno-4-39" name="__codelineno-4-39"></a>        <span class="bp">self</span><span class="o">.</span><span class="n">agents</span><span class="p">[</span><span class="n">agent</span><span class="o">.</span><span class="n">name</span><span class="p">]</span> <span class="o">=</span> <span class="n">agent</span>
<a href="#__codelineno-4-40" id="__codelineno-4-40" name="__codelineno-4-40"></a>        <span class="bp">self</span><span class="o">.</span><span class="n">turn_order</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">agent</span><span class="o">.</span><span class="n">name</span><span class="p">)</span>
<a href="#__codelineno-4-41" id="__codelineno-4-41" name="__codelineno-4-41"></a>
<a href="#__codelineno-4-42" id="__codelineno-4-42" name="__codelineno-4-42"></a>    <span class="k">async</span> <span class="k">def</span><span class="w"> </span><span class="nf">initiate_discussion</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">initial_message</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">max_rounds</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">5</span><span class="p">):</span>
<a href="#__codelineno-4-43" id="__codelineno-4-43" name="__codelineno-4-43"></a><span class="w">        </span><span class="sd">"""Start group discussion"""</span>
<a href="#__codelineno-4-44" id="__codelineno-4-44" name="__codelineno-4-44"></a>        <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">"Starting group discussion: </span><span class="si">{</span><span class="n">initial_message</span><span class="si">}</span><span class="s2">"</span><span class="p">)</span>
<a href="#__codelineno-4-45" id="__codelineno-4-45" name="__codelineno-4-45"></a>
<a href="#__codelineno-4-46" id="__codelineno-4-46" name="__codelineno-4-46"></a>        <span class="n">current_message</span> <span class="o">=</span> <span class="n">initial_message</span>
<a href="#__codelineno-4-47" id="__codelineno-4-47" name="__codelineno-4-47"></a>
<a href="#__codelineno-4-48" id="__codelineno-4-48" name="__codelineno-4-48"></a>        <span class="k">for</span> <span class="n">round_num</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">max_rounds</span><span class="p">):</span>
<a href="#__codelineno-4-49" id="__codelineno-4-49" name="__codelineno-4-49"></a>            <span class="n">speaker_name</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">turn_order</span><span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">current_speaker</span> <span class="o">%</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">turn_order</span><span class="p">)]</span>
<a href="#__codelineno-4-50" id="__codelineno-4-50" name="__codelineno-4-50"></a>            <span class="n">speaker</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">agents</span><span class="p">[</span><span class="n">speaker_name</span><span class="p">]</span>
<a href="#__codelineno-4-51" id="__codelineno-4-51" name="__codelineno-4-51"></a>
<a href="#__codelineno-4-52" id="__codelineno-4-52" name="__codelineno-4-52"></a>            <span class="c1"># Generate response</span>
<a href="#__codelineno-4-53" id="__codelineno-4-53" name="__codelineno-4-53"></a>            <span class="n">context</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">conversation_log</span><span class="p">[</span><span class="o">-</span><span class="mi">3</span><span class="p">:]</span> <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">conversation_log</span> <span class="k">else</span> <span class="p">[]</span>
<a href="#__codelineno-4-54" id="__codelineno-4-54" name="__codelineno-4-54"></a>            <span class="n">response</span> <span class="o">=</span> <span class="k">await</span> <span class="n">speaker</span><span class="o">.</span><span class="n">generate_response</span><span class="p">(</span><span class="n">current_message</span><span class="p">,</span> <span class="n">context</span><span class="p">)</span>
<a href="#__codelineno-4-55" id="__codelineno-4-55" name="__codelineno-4-55"></a>
<a href="#__codelineno-4-56" id="__codelineno-4-56" name="__codelineno-4-56"></a>            <span class="c1"># Log conversation</span>
<a href="#__codelineno-4-57" id="__codelineno-4-57" name="__codelineno-4-57"></a>            <span class="bp">self</span><span class="o">.</span><span class="n">conversation_log</span><span class="o">.</span><span class="n">append</span><span class="p">({</span>
<a href="#__codelineno-4-58" id="__codelineno-4-58" name="__codelineno-4-58"></a>                <span class="s1">'round'</span><span class="p">:</span> <span class="n">round_num</span><span class="p">,</span>
<a href="#__codelineno-4-59" id="__codelineno-4-59" name="__codelineno-4-59"></a>                <span class="s1">'speaker'</span><span class="p">:</span> <span class="n">speaker_name</span><span class="p">,</span>
<a href="#__codelineno-4-60" id="__codelineno-4-60" name="__codelineno-4-60"></a>                <span class="s1">'message'</span><span class="p">:</span> <span class="n">response</span><span class="p">,</span>
<a href="#__codelineno-4-61" id="__codelineno-4-61" name="__codelineno-4-61"></a>                <span class="s1">'timestamp'</span><span class="p">:</span> <span class="n">asyncio</span><span class="o">.</span><span class="n">get_event_loop</span><span class="p">()</span><span class="o">.</span><span class="n">time</span><span class="p">()</span>
<a href="#__codelineno-4-62" id="__codelineno-4-62" name="__codelineno-4-62"></a>            <span class="p">})</span>
<a href="#__codelineno-4-63" id="__codelineno-4-63" name="__codelineno-4-63"></a>
<a href="#__codelineno-4-64" id="__codelineno-4-64" name="__codelineno-4-64"></a>            <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">"Round </span><span class="si">{</span><span class="n">round_num</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="mi">1</span><span class="si">}</span><span class="s2"> - </span><span class="si">{</span><span class="n">speaker_name</span><span class="si">}</span><span class="s2">: </span><span class="si">{</span><span class="n">response</span><span class="si">}</span><span class="s2">"</span><span class="p">)</span>
<a href="#__codelineno-4-65" id="__codelineno-4-65" name="__codelineno-4-65"></a>
<a href="#__codelineno-4-66" id="__codelineno-4-66" name="__codelineno-4-66"></a>            <span class="n">current_message</span> <span class="o">=</span> <span class="n">response</span>
<a href="#__codelineno-4-67" id="__codelineno-4-67" name="__codelineno-4-67"></a>            <span class="bp">self</span><span class="o">.</span><span class="n">current_speaker</span> <span class="o">+=</span> <span class="mi">1</span>
<a href="#__codelineno-4-68" id="__codelineno-4-68" name="__codelineno-4-68"></a>
<a href="#__codelineno-4-69" id="__codelineno-4-69" name="__codelineno-4-69"></a>        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">conversation_log</span>
<a href="#__codelineno-4-70" id="__codelineno-4-70" name="__codelineno-4-70"></a>
<a href="#__codelineno-4-71" id="__codelineno-4-71" name="__codelineno-4-71"></a><span class="c1"># Example group chat</span>
<a href="#__codelineno-4-72" id="__codelineno-4-72" name="__codelineno-4-72"></a><span class="k">async</span> <span class="k">def</span><span class="w"> </span><span class="nf">demo_group_chat</span><span class="p">():</span>
<a href="#__codelineno-4-73" id="__codelineno-4-73" name="__codelineno-4-73"></a>    <span class="n">chat</span> <span class="o">=</span> <span class="n">GroupChat</span><span class="p">()</span>
<a href="#__codelineno-4-74" id="__codelineno-4-74" name="__codelineno-4-74"></a>
<a href="#__codelineno-4-75" id="__codelineno-4-75" name="__codelineno-4-75"></a>    <span class="c1"># Create specialized agents</span>
<a href="#__codelineno-4-76" id="__codelineno-4-76" name="__codelineno-4-76"></a>    <span class="n">researcher</span> <span class="o">=</span> <span class="n">AutoGenAgent</span><span class="p">(</span>
<a href="#__codelineno-4-77" id="__codelineno-4-77" name="__codelineno-4-77"></a>        <span class="s2">"Researcher"</span><span class="p">,</span> 
<a href="#__codelineno-4-78" id="__codelineno-4-78" name="__codelineno-4-78"></a>        <span class="s2">"You are a research specialist. Provide factual, well-researched information."</span>
<a href="#__codelineno-4-79" id="__codelineno-4-79" name="__codelineno-4-79"></a>    <span class="p">)</span>
<a href="#__codelineno-4-80" id="__codelineno-4-80" name="__codelineno-4-80"></a>
<a href="#__codelineno-4-81" id="__codelineno-4-81" name="__codelineno-4-81"></a>    <span class="n">analyst</span> <span class="o">=</span> <span class="n">AutoGenAgent</span><span class="p">(</span>
<a href="#__codelineno-4-82" id="__codelineno-4-82" name="__codelineno-4-82"></a>        <span class="s2">"Analyst"</span><span class="p">,</span>
<a href="#__codelineno-4-83" id="__codelineno-4-83" name="__codelineno-4-83"></a>        <span class="s2">"You are a data analyst. Focus on data-driven insights and trends."</span>
<a href="#__codelineno-4-84" id="__codelineno-4-84" name="__codelineno-4-84"></a>    <span class="p">)</span>
<a href="#__codelineno-4-85" id="__codelineno-4-85" name="__codelineno-4-85"></a>
<a href="#__codelineno-4-86" id="__codelineno-4-86" name="__codelineno-4-86"></a>    <span class="n">critic</span> <span class="o">=</span> <span class="n">AutoGenAgent</span><span class="p">(</span>
<a href="#__codelineno-4-87" id="__codelineno-4-87" name="__codelineno-4-87"></a>        <span class="s2">"Critic"</span><span class="p">,</span>
<a href="#__codelineno-4-88" id="__codelineno-4-88" name="__codelineno-4-88"></a>        <span class="s2">"You are a critical thinker. Question assumptions and identify potential issues."</span>
<a href="#__codelineno-4-89" id="__codelineno-4-89" name="__codelineno-4-89"></a>    <span class="p">)</span>
<a href="#__codelineno-4-90" id="__codelineno-4-90" name="__codelineno-4-90"></a>
<a href="#__codelineno-4-91" id="__codelineno-4-91" name="__codelineno-4-91"></a>    <span class="c1"># Add agents to chat</span>
<a href="#__codelineno-4-92" id="__codelineno-4-92" name="__codelineno-4-92"></a>    <span class="n">chat</span><span class="o">.</span><span class="n">add_agent</span><span class="p">(</span><span class="n">researcher</span><span class="p">)</span>
<a href="#__codelineno-4-93" id="__codelineno-4-93" name="__codelineno-4-93"></a>    <span class="n">chat</span><span class="o">.</span><span class="n">add_agent</span><span class="p">(</span><span class="n">analyst</span><span class="p">)</span>
<a href="#__codelineno-4-94" id="__codelineno-4-94" name="__codelineno-4-94"></a>    <span class="n">chat</span><span class="o">.</span><span class="n">add_agent</span><span class="p">(</span><span class="n">critic</span><span class="p">)</span>
<a href="#__codelineno-4-95" id="__codelineno-4-95" name="__codelineno-4-95"></a>
<a href="#__codelineno-4-96" id="__codelineno-4-96" name="__codelineno-4-96"></a>    <span class="c1"># Start discussion</span>
<a href="#__codelineno-4-97" id="__codelineno-4-97" name="__codelineno-4-97"></a>    <span class="k">await</span> <span class="n">chat</span><span class="o">.</span><span class="n">initiate_discussion</span><span class="p">(</span>
<a href="#__codelineno-4-98" id="__codelineno-4-98" name="__codelineno-4-98"></a>        <span class="s2">"What are the key considerations for deploying large language models in production?"</span><span class="p">,</span>
<a href="#__codelineno-4-99" id="__codelineno-4-99" name="__codelineno-4-99"></a>        <span class="n">max_rounds</span><span class="o">=</span><span class="mi">6</span>
<a href="#__codelineno-4-100" id="__codelineno-4-100" name="__codelineno-4-100"></a>    <span class="p">)</span>
<a href="#__codelineno-4-101" id="__codelineno-4-101" name="__codelineno-4-101"></a>
<a href="#__codelineno-4-102" id="__codelineno-4-102" name="__codelineno-4-102"></a><span class="c1"># asyncio.run(demo_group_chat())</span>
</code></pre></div>
<h2 id="mcp-implementation-checklist">‚úÖ MCP Implementation Checklist</h2>
<p><strong>Architecture Design</strong>:
- [ ] Choose coordination pattern (centralized/decentralized)
- [ ] Define agent roles and capabilities
- [ ] Design communication protocols
- [ ] Plan task decomposition strategies</p>
<p><strong>Communication Layer</strong>:
- [ ] Implement message passing framework
- [ ] Define message formats and types
- [ ] Build routing and delivery mechanisms
- [ ] Add error handling and retries</p>
<p><strong>Coordination Mechanisms</strong>:
- [ ] Implement task assignment logic
- [ ] Build consensus protocols
- [ ] Create conflict resolution procedures
- [ ] Add load balancing capabilities</p>
<p><strong>Monitoring and Management</strong>:
- [ ] Agent health monitoring
- [ ] Performance metrics collection
- [ ] Debug and logging systems
- [ ] Administrative interfaces</p>
<h2 id="next-steps">üöÄ Next Steps</h2>
<p>Continue with:</p>
<ol>
<li><strong><a href="communication.md">Communication Protocols</a></strong> - Advanced messaging patterns</li>
<li><strong><a href="coordination.md">Coordination Strategies</a></strong> - Sophisticated coordination algorithms  </li>
<li><strong><a href="frameworks.md">Frameworks &amp; Tools</a></strong> - Production-ready MCP frameworks</li>
</ol>
<hr/>
<p><em>Multi-Agent Collaboration Platforms represent the cutting edge of AI system architecture, enabling sophisticated problem-solving through distributed intelligence and coordinated action.</em></p>
</article>
</div>
<script>var tabs=__md_get("__tabs");if(Array.isArray(tabs))e:for(var set of document.querySelectorAll(".tabbed-set")){var labels=set.querySelector(".tabbed-labels");for(var tab of tabs)for(var label of labels.getElementsByTagName("label"))if(label.innerText.trim()===tab){var input=document.getElementById(label.htmlFor);input.checked=!0;continue e}}</script>
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
</div>
<button class="md-top md-icon" data-md-component="top" hidden="" type="button">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8z"></path></svg>
  Back to top
</button>
</main>
<footer class="md-footer">
<div class="md-footer-meta md-typeset">
<div class="md-footer-meta__inner md-grid">
<div class="md-copyright">
<div class="md-copyright__highlight">
      Copyright ¬© 2024 LLM-MCP Learning Path Contributors
    </div>
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" rel="noopener" target="_blank">
      Material for MkDocs
    </a>
</div>
</div>
</div>
</footer>
</div>
<div class="md-dialog" data-md-component="dialog">
<div class="md-dialog__inner md-typeset"></div>
</div>
<script id="__config" type="application/json">{"base": "../..", "features": ["navigation.tabs", "navigation.sections", "navigation.expand", "navigation.path", "navigation.top", "search.suggest", "search.highlight", "content.tabs.link", "content.code.annotation", "content.code.copy"], "search": "../../assets/javascripts/workers/search.973d3a69.min.js", "tags": null, "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}, "version": null}</script>
<script src="../../assets/javascripts/bundle.92b07e13.min.js"></script>
<script src="../../javascripts/mathjax.js"></script>
<script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
<script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
</body>
</html>